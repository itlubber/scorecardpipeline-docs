

<!DOCTYPE html>
<html class="no-js" lang="zh-CN">
  <head>
    <meta charset="utf-8" />
      <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="docsearch:name" content="scorecardpipeline" />
    <meta name="docsearch:package_type" content="" />
    <meta name="docsearch:release" content="0.1.26" />
    <meta name="docsearch:version" content="" />
    
      <title>简介 &mdash; scorecardpipeline 0.1.26 文档</title>
    
    <link rel="stylesheet" href="_static/bootstrap-icons.css" type="text/css" />
          <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
          <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
          <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="_static/pygments_dark.css" />
          <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
          <link rel="stylesheet" type="text/css" href="_static/colorsets/sphinx-nefertiti-indigo.min.css" />
          <link rel="stylesheet" type="text/css" href="_static/fonts/nunito/stylesheet.css" />
          <link rel="stylesheet" type="text/css" href="_static/fonts/red-hat-mono/stylesheet.css" />
          <link rel="stylesheet" type="text/css" href="_static/fonts/nunito/stylesheet.css" />
          <link rel="stylesheet" type="text/css" href="_static/fonts/nunito/stylesheet.css" />
          <link rel="stylesheet" type="text/css" href="_static/fonts/nunito/stylesheet.css" />
          <link rel="stylesheet" type="text/css" href="_static/pygments_dark.css" />
        <link rel="index" title="索引" href="genindex.html" />
        <link rel="search" title="搜索" href="search.html" />
        <link rel="top" title="scorecardpipeline 0.1.26 文档" href="#" />
        <link rel="next" title="scorecardpipeline" href="scorecardpipeline.html" />
        <link rel="prev" title="scorecardpipeline" href="index.html" />
    <style>
      :root {
        --nftt-body-font-family: "Nunito", var(--nftt-font-sans-serif) !important;
        --nftt-font-monospace: "Red Hat Mono", var(--nftt-font-family-monospace) !important;
        --nftt-project-name-font: "Nunito", var(--nftt-body-font-family);
        --nftt-documentation-font: "Nunito", var(--nftt-body-font-family);
        --nftt-doc-headers-font: "Nunito", var(--nftt-documentation-font);}
      h1 *, h2 *, h3 *, h4 *, h5 *, h6 * { font-size: inherit; }
    </style>
  </head>
  <body>
    <header class="navbar navbar-expand-lg navbar-dark nftt-navbar flex-column fixed-top">
      <div class="skip-links container-xxl visually-hidden-focusable overflow-hidden justify-content-start">
        <div class="border-bottom mb-2 pb-2 w-100">
          <a class="d-none d-md-inline-flex p-2 m-1" href="#sidebar-filter">Skip to docs navigation</a>
          <a class="d-inline-flex p-2 m-1" href="#content">Skip to main content</a>
        </div>
      </div>
      <nav class="container-xxl nftt-gutter flex-wrap flex-lg-nowrap" aria-label="Main navigation">
        <div class="nftt-navbar-toggler">
          <button class="navbar-toggler p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar" aria-controls="sidebar" aria-label="Toggle documentation navigation">
            <i class="bi bi-list"></i>
          </button>
        </div>
          <a href="index.html"
              
              class="navbar-brand p-0 me-0 md-lg-2"
          ><span class="brand-text">scorecardpipeline</span></a>
        
        <div class="d-flex d-lg-none">
          <button class="navbar-toggler p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#nfttSearch" aria-controls="nfttSearch" aria-label="Search">
            <i class="bi bi-search"></i>
          </button>
          <button class="navbar-toggler p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#nfttNavbar" aria-controls="nfttNavbar" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
        </div>
        
<div class="offcanvas-lg offcanvas-end flex-grow-1" tabindex="-1" id="nfttSearch" aria-labelledby="nfttSearchOffcanvasLabel" data-bs-scroll="true">
  <div class="offcanvas-header px-4 pb-0">
    <h5 class="offcanvas-title fw-bold" id="nfttSearchOffcanvasLabel">Search the documentation</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close" data-bs-target="#nfttSearch"></button>
  </div>
  <div class="offcanvas-body p-4 pt-0 p-lg-0 px-lg-3">
    <hr class="d-lg-none text-white-50">
    <ul class="navbar-nav flex-row align-items-center flex-wrap ms-md-auto">
      <li class="nav-item col-12 col-lg-auto">
        <form id="nftt-search-form" action="search.html" method="get">
          <div class="input-group">
            <input type="text" name="q" class="form-control" placeholder="Search docs" aria-label="Search" aria-describedby="button-search">
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <button class="btn btn-primary" type="submit" id="button-search" aria-label="Search"><i class="bi bi-search"></i></button>
          </div>
        </form>
      </li>
    </ul>
  </div>
</div>

        <div class="offcanvas-lg offcanvas-end" tabindex="-1" id="nfttNavbar" aria-labelledby="nfttNavbarOffcanvasLabel" data-bs-scroll="true">
          <div class="offcanvas-header px-4 pb-0">
            <div class="offcanvas-title text-white fw-bold" id="nfttNavbarOffcanvasLabel"><span class="brand-text">Nefertiti for Sphinx</span></div>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close" data-bs-target="#nfttNavbar"></button>
          </div>
          <div class="offcanvas-body p-4 pt-0 p-lg-0">
            <hr class="d-lg-none text-white-50">
            <ul class="navbar-nav flex-row align-items-center flex-wrap ms-md-auto">
              
              <li class="nav-item col-12 col-lg-auto">
                <a class="nav-link py-2 py-lg-0 px-0 px-lg-2" href="https://github.com/itlubber/scorecardpipeline" target="_blank" rel="noopener">
                  <div class="d-flex align-items-center">
                    <div class="me-2">
                      <i class="bi bi-git size-24"></i>
                    </div>
                    <div class="repo d-flex flex-column align-items-center" data-snftt-repo-url="https://github.com/itlubber/scorecardpipeline">
                      itlubber/scorecardpipeline
                      <div class="d-flex justify-content-center" data-snftt-repo-metrics>
                        <span class="pe-2 d-flex justify-content-center align-items-center">
                          <i class="bi bi-tag size-14"></i>
                          <span class="repo-metric" data-snftt-repo-tag></span>
                        </span>
                        <span class="pe-2 d-flex justify-content-center align-items-center">
                          <i class="bi bi-star size-14"></i>
                          <span class="repo-metric" data-snftt-repo-stars></span>
                        </span>
                        <span class="d-flex justify-content-center align-items-center">
                          <i class="bi bi-diagram-2 size-14"></i>
                          <span class="repo-metric" data-snftt-repo-forks></span>
                        </span>
                      </div>
                    </div>
                  </div>
                </a>
              </li>
              <li class="nav-item col-12 col-lg-auto h-100" aria-hidden="true">
                <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div>
                <hr class="d-lg-none text-white-50">
              </li>
              
              <!-- version_dropdown.html -->

  
    <li class="nav-item dropdown">
      <a class="nav-link d-flex py-2 px-0 px-lg-2 dropdown-toggle align-items-center" id="snftt-version" href="#" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Select version">
        <span id="snftt-version-text" class="d-lg-none small">scorecardpipeline</span>
        <span class="small ms-2" data-snftt-version-active="v0.1.26">v0.1.26</span>
      </a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="snftt-version-text">
        <li>
          <h6 class="dropdown-header">Versions</h6>
        </li>
        
          <li>
            <a class="dropdown-item d-flex align-items-center justify-content-between" aria-pressed="false" href="https://itlubber.github.io/scorecardpipeline-docs" data-snftt-version-url="https://itlubber.github.io/scorecardpipeline-docs" data-snftt-version="v0.1.26">
              <span class="small ms-2">v0.1.26</span>
              <i class="bi bi-check ms-auto"></i>
            </a>
          </li>
        
      </ul>
    </li>
  

  <li class="nav-item col-12 col-lg-auto h-100" aria-hidden="true">
    <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div>
    <hr class="d-lg-none text-white-50">
  </li>

              
              <!-- colorscheme_dropdown.html -->
<li class="nav-item dropdown">
  <a class="nav-link d-flex py-2 px-0 px-lg-2 dropdown-toggle align-items-center" id="snftt-luz" href="#" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false" aria-label="Toggle light/dark">
    <i class="bi bi-circle-half" data-snftt-luz-icon-active></i>
    <span id="snftt-luz-text" class="d-lg-none small ms-2">Toggle light/dark</span>
  </a>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="snftt-luz-text">
    <li>
      <h6 class="dropdown-header">Light/dark</h6>
    </li>
    <li>
      <a class="dropdown-item d-flex align-items-center" data-snftt-luz="light" href="#" aria-pressed="false">
        <span class="small">
          <i class="bi bi-sun" data-snftt-luz-icon="light"></i>
        </span>
        <span class="small ms-3">Light</span>
        <i class="bi bi-check ms-auto"></i>
      </a>
    </li>
    <li>
      <a class="dropdown-item d-flex align-items-center" data-snftt-luz="dark" href="#" aria-pressed="false">
        <span class="small">
          <i class="bi bi-moon-stars" data-snftt-luz-icon="dark"></i>
        </span>
        <span class="small ms-3">Dark</span>
        <i class="bi bi-check ms-auto"></i>
      </a>
    </li>
    <li>
      <a class="dropdown-item current d-flex align-items-center" data-snftt-luz="default" href="#" aria-pressed="false">
        <span class="small">
          <i class="bi bi-circle-half" data-snftt-luz-icon="default"></i>
        </span>
        <span class="small ms-3">Default</span>
        <i class="bi bi-check ms-auto"></i>
      </a>
    </li>
  </ul>
</li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <div class="container-xxl nftt-gutter nftt-layout">
      <aside class="nftt-sidebar">
        <div class="title d-none d-md-block">
          <i class="bi bi-book"></i>&nbsp;&nbsp;<span>Table of contents</span>
        </div>
        <div id="sidebar" tabindex="-1" class="offcanvas-lg offcanvas-start" aria-labelledby="nfttSidebarOffcanvasLabel">
            <!-- danirus sidebartemplate: "globaltoc.html" --><div class="offcanvas-header border-bottom">
  <h5 class="offcanvas-title" id="nfttSidebarOffcanvasLabel">
    Table of contents
  </h5>
  <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close" data-bs-target="#sidebar"></button>
</div>

<div class="offcanvas-body">
  <nav class="toc" aria-label="Main menu">
    <div class="mb-3 p-1 pt-3 pb-4 border-bottom">
      <input id="sidebar-filter" type="text" name="filter" class="form-control form-control-sm" placeholder="filter" aria-label="filter">
    </div>
    <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="#id2">交流</a></li>
<li class="toctree-l1"><a class="reference internal" href="#id3">版本说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="#id4">环境安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="#id5">使用示例</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="scorecardpipeline.html">scorecardpipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="scorecardpipeline.html#module-scorecardpipeline.processing">scorecardpipeline.processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="scorecardpipeline.html#module-scorecardpipeline.model">scorecardpipeline.model</a></li>
<li class="toctree-l1"><a class="reference internal" href="scorecardpipeline.html#module-scorecardpipeline.utils">scorecardpipeline.utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="scorecardpipeline.html#module-scorecardpipeline.excel_writer">scorecardpipeline.excel_writer</a></li>
<li class="toctree-l1"><a class="reference internal" href="scorecardpipeline.html#module-scorecardpipeline.logger">scorecardpipeline.logger</a></li>
</ul>

  </nav>
  <template data-toggle-item-template>
    <button class="btn btn-sm btn-link toctree-expand" type="button">
      <i class="bi bi-caret-right"></i>
      <span class="visually-hidden">Toggle menu contents</span>
    </button>
  </template>
</div>
        </div>
      </aside>
      <main class="nftt-main">
        <article id="content" class="nftt-content" role="main">
    <section id="id1">
<h1>简介<a class="headerlink" href="#id1" title="此标题的永久链接">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">scorecardpipeline</span></code> 封装了 <code class="docutils literal notranslate"><span class="pre">toad</span></code>、<code class="docutils literal notranslate"><span class="pre">scorecardpy</span></code>、<code class="docutils literal notranslate"><span class="pre">optbinning</span></code> 等评分卡建模相关组件，<code class="docutils literal notranslate"><span class="pre">API</span></code> 风格与 <code class="docutils literal notranslate"><span class="pre">sklearn</span></code> 高度一致，支持 <code class="docutils literal notranslate"><span class="pre">pipeline</span></code> 式端到端评分卡建模、模型报告输出、导出 <code class="docutils literal notranslate"><span class="pre">PMML</span></code> 文件、超参数搜索等功能。</p>
<blockquote>
<div><p>在线文档: <a class="reference external" href="https://itlubber.github.io/scorecardpipeline-docs/"><code class="docutils literal notranslate"><span class="pre">https://itlubber.github.io/scorecardpipeline-docs</span></code></a></p>
<p><code class="docutils literal notranslate"><span class="pre">PIPY</span></code> 包: <a class="reference external" href="https://pypi.org/project/scorecardpipeline/"><code class="docutils literal notranslate"><span class="pre">https://pypi.org/project/scorecardpipeline</span></code></a></p>
<p>仓库地址: <a class="reference external" href="https://github.com/itlubber/scorecardpipeline"><code class="docutils literal notranslate"><span class="pre">https://github.com/itlubber/scorecardpipeline</span></code></a></p>
</div></blockquote>
</section>
<section id="id2">
<h1>交流<a class="headerlink" href="#id2" title="此标题的永久链接">¶</a></h1>
<div style="display: flex; justify-content: space-around;">
    <img width="30%" alt="itlubber" src="https://itlubber.art//upload/itlubber.png"/>
    <img width="30%" alt="itlubber_art" src="https://itlubber.art//upload/itlubber_art.png"/>
</div>
<div style="display: flex; justify-content: space-around; margin-bottom: 2rem;">
    <span>微信<code>: itlubber</code></span>
    <span>订阅号<code>: itlubber_art</code></span>
</div>
</section>
<section id="id3">
<h1>版本说明<a class="headerlink" href="#id3" title="此标题的永久链接">¶</a></h1>
<table border="1" class="docutils">
<thead>
<tr>
<th style="text-align: center;"><strong>序号</strong></th>
<th style="text-align: center;"><strong>版本号</strong></th>
<th style="text-align: center;"><strong>发布日期</strong></th>
<th style="text-align: center;"><strong>版本说明</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">01</td>
<td style="text-align: center;">0.1.0</td>
<td style="text-align: center;">2023.05.04</td>
<td style="text-align: center;">初始化</td>
</tr>
<tr>
<td style="text-align: center;">..</td>
<td style="text-align: center;">......</td>
<td style="text-align: center;">......</td>
<td style="text-align: center;">......</td>
</tr>
<tr>
<td style="text-align: center;">26</td>
<td style="text-align: center;">0.1.26</td>
<td style="text-align: center;">2023.11.13</td>
<td style="text-align: center;">稳定版本，新增方法<a href="https://itlubber.github.io/scorecardpipeline-docs/"><code>说明文档</code></a></td>
</tr>
</tbody>
</table>
</section>
<section id="id4">
<h1>环境安装<a class="headerlink" href="#id4" title="此标题的永久链接">¶</a></h1>
<ol class="arabic simple">
<li><p>安装 <code class="docutils literal notranslate"><span class="pre">python</span></code> 环境</p></li>
</ol>
<p>推荐 <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">3.8.13</span></code> ，参照网上教程自行安装即可，也可直接使用系统提供的 <code class="docutils literal notranslate"><span class="pre">python3</span></code> , 版本不易过高, 最低支持 <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">3.6</span></code>，最高支持 <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">3.10</span></code></p>
<ol class="arabic simple" start="2">
<li><p>安装 <code class="docutils literal notranslate"><span class="pre">scorecardpipeline</span></code> 包</p></li>
</ol>
<ul class="simple">
<li><p>在线环境安装</p></li>
</ul>
<p>直接通过 <code class="docutils literal notranslate"><span class="pre">pip</span></code> 安装即可，安装后需要确认下版本是否安装正确，推荐 <code class="docutils literal notranslate"><span class="pre">-i</span> <span class="pre">https://test.pypi.org/simple</span></code> 指定源安装</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>scorecardpipeline
</pre></div>
</div>
<ul class="simple">
<li><p>离线环境安装</p></li>
</ul>
<p>离线环境安装需先找一个 <code class="docutils literal notranslate"><span class="pre">python</span></code> 版本和系统 (<code class="docutils literal notranslate"><span class="pre">windows</span></code>、<code class="docutils literal notranslate"><span class="pre">linux</span></code>、<code class="docutils literal notranslate"><span class="pre">mac</span></code>) 与生产一致的有网机器或者容器，在有网的环境中下载相关依赖项后拷贝到离线环境安装</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># 在线环境依赖下载</span>
pip<span class="w"> </span>download<span class="w"> </span>-d<span class="w"> </span>site-packages/<span class="w"> </span>scorecardpipeline
<span class="c1"># 离线环境</span>
pip<span class="w"> </span>install<span class="w"> </span>--no-index<span class="w"> </span>--find-links<span class="o">=</span>site-packages<span class="w"> </span>scorecardpipeline
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>安装 <code class="docutils literal notranslate"><span class="pre">jdk</span> <span class="pre">1.8+</span></code> [可选]</p></li>
</ol>
<p>如果有将训练完成的评分卡模型直接导出 <code class="docutils literal notranslate"><span class="pre">PMML</span></code> 模型文件部署的需求，需要单独安装 <code class="docutils literal notranslate"><span class="pre">java</span></code> 环境</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">mac</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">windows</span></code> 参考: <a class="reference external" href="https://developer.aliyun.com/article/1082599"><code class="docutils literal notranslate"><span class="pre">https://developer.aliyun.com/article/1082599</span></code></a></p>
<p><code class="docutils literal notranslate"><span class="pre">linux</span></code> 参考: <a class="reference external" href="https://blog.csdn.net/muzi_gao/article/details/132169159"><code class="docutils literal notranslate"><span class="pre">https://blog.csdn.net/muzi_gao/article/details/132169159</span></code></a></p>
</div></blockquote>
</section>
<section id="id5">
<h1>使用示例<a class="headerlink" href="#id5" title="此标题的永久链接">¶</a></h1>
<p>本节将就 <code class="docutils literal notranslate"><span class="pre">scorecardpipeline</span></code> 的相关功能做简要介绍，并提供一个<a class="reference external" href="https://github.com/itlubber/scorecardpipeline/blob/main/examples/scorecard_samples.ipynb"><code class="docutils literal notranslate"><span class="pre">简单的示例</span></code></a>，旨在让读者对如何使用 <code class="docutils literal notranslate"><span class="pre">scorecardpipeline</span></code> 进行评分卡模型构建有一个简单的印象。</p>
<section id="id6">
<h2>导入依赖<a class="headerlink" href="#id6" title="此标题的永久链接">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">scorecardpipeline</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># 固定随机种子以保证结果可复现</span>
<span class="n">init_setting</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id7">
<h2>数据准备<a class="headerlink" href="#id7" title="此标题的永久链接">¶</a></h2>
<p>使用 <code class="docutils literal notranslate"><span class="pre">scorecardpipeline</span></code> 进行评分卡建模，需要您提前准备好一个包含目标变量的数据集，<code class="docutils literal notranslate"><span class="pre">scorecardpipeline</span></code> 提供了一个德国信贷数据集 <a class="reference external" href="https://archive.ics.uci.edu/dataset/144/statlog+german+credit+data"><code class="docutils literal notranslate"><span class="pre">germancredit</span></code></a>，示例加载该数据集进行演示，读者可以直接替换为您本地的数据集，并修改目标变量名称为数据集中的目标变量列名</p>
<p><a class="reference external" href="https://archive.ics.uci.edu/dataset/144/statlog+german+credit+data"><code class="docutils literal notranslate"><span class="pre">germancredit</span></code></a> 数据集中包含类别型变量、数值型变量、好坏标签，共1000条数据，由于数据集中不包含缺失值，为了模拟实际生产中的真实数据，笔者将在固定随机种子的情况下随机替换数据集中的部分内容为 <code class="docutils literal notranslate"><span class="pre">np.nan</span></code></p>
<details>
  <summary>数据字典</summary>
<table border="1" class="docutils">
<thead>
<tr>
<th style="text-align: center;"><strong>序号</strong></th>
<th style="text-align: center;"><strong>类型</strong></th>
<th style="text-align: center;"><strong>特征名</strong></th>
<th style="text-align: center;"><strong>释义</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">creditability</td>
<td style="text-align: center;">客户好坏标签</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">数值型</td>
<td style="text-align: center;">duration in month</td>
<td style="text-align: center;">月持续时间</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: center;">数值型</td>
<td style="text-align: center;">credit amount</td>
<td style="text-align: center;">信用额度</td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td style="text-align: center;">数值型</td>
<td style="text-align: center;">installment rate in percentage of disposable income</td>
<td style="text-align: center;">分期付款率占可支配收入的百分比</td>
</tr>
<tr>
<td style="text-align: center;">4</td>
<td style="text-align: center;">数值型</td>
<td style="text-align: center;">present residence since</td>
<td style="text-align: center;">现居住地至今</td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td style="text-align: center;">数值型</td>
<td style="text-align: center;">age in years</td>
<td style="text-align: center;">年龄</td>
</tr>
<tr>
<td style="text-align: center;">6</td>
<td style="text-align: center;">数值型</td>
<td style="text-align: center;">number of existing credits at this bank</td>
<td style="text-align: center;">这家银行的现有信贷数量</td>
</tr>
<tr>
<td style="text-align: center;">7</td>
<td style="text-align: center;">数值型</td>
<td style="text-align: center;">number of people being liable to provide maintenance for</td>
<td style="text-align: center;">有责任为其提供维修服务的人数</td>
</tr>
<tr>
<td style="text-align: center;">8</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">status of existing checking account</td>
<td style="text-align: center;">现有支票账户的状态</td>
</tr>
<tr>
<td style="text-align: center;">9</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">credit history</td>
<td style="text-align: center;">信用记录</td>
</tr>
<tr>
<td style="text-align: center;">10</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">purpose</td>
<td style="text-align: center;">目的</td>
</tr>
<tr>
<td style="text-align: center;">11</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">savings account or bonds</td>
<td style="text-align: center;">储蓄账户/债券</td>
</tr>
<tr>
<td style="text-align: center;">12</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">present employment since</td>
<td style="text-align: center;">至今工作至今</td>
</tr>
<tr>
<td style="text-align: center;">13</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">personal status and sex</td>
<td style="text-align: center;">个人地位和性别</td>
</tr>
<tr>
<td style="text-align: center;">14</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">other debtors or guarantors</td>
<td style="text-align: center;">其他债务人/担保人</td>
</tr>
<tr>
<td style="text-align: center;">15</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">property</td>
<td style="text-align: center;">财产</td>
</tr>
<tr>
<td style="text-align: center;">16</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">other installment plans</td>
<td style="text-align: center;">其他分期付款计划</td>
</tr>
<tr>
<td style="text-align: center;">17</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">housing</td>
<td style="text-align: center;">Housing</td>
</tr>
<tr>
<td style="text-align: center;">18</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">job</td>
<td style="text-align: center;">工作</td>
</tr>
<tr>
<td style="text-align: center;">19</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">telephone</td>
<td style="text-align: center;">电话</td>
</tr>
<tr>
<td style="text-align: center;">20</td>
<td style="text-align: center;">类别型</td>
<td style="text-align: center;">foreign worker</td>
<td style="text-align: center;">外籍工人</td>
</tr>
</tbody>
</table>
</details>
<br>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 加载数据集</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">germancredit</span><span class="p">()</span>

<span class="c1"># 设置目标变量名称 &amp; 映射目标变量值域为 {0, 1}</span>
<span class="n">target</span> <span class="o">=</span> <span class="s2">&quot;creditability&quot;</span>
<span class="n">data</span><span class="p">[</span><span class="n">target</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">target</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s2">&quot;good&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;bad&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>

<span class="c1"># 随机替换 20% 的数据为 np.nan</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">target</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mf">0.8</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>
</div>
</section>
<section id="id8">
<h2>数据拆分<a class="headerlink" href="#id8" title="此标题的永久链接">¶</a></h2>
<p>通常建模过程中会将数据集拆分成训练数据集和测试数据集集，训练数据集用于模型参数的训练，测试数据集用于评估模型好坏，且在整个建模过程中实际上只能使用一次（任何针对测试数据集调模型的，都存在模型过拟合的情况，除非你的数据不包含任何噪声数据）。而为了弥补测试数据集只能用一次用于评估模型好坏的尴尬，大多都会再拆分一个验证数据集，用于模型训练过程中判别模型是否向好的方向进行优化。</p>
<p>在金融建模场景中，上述三个数据集通常被称为训练数据集、测试数据集（即上述三个数据集中的验证集）、跨时间验证集（即上述三个数据集中的测试集）。同时，在金融场景中，跨时间验证集的拆分方式通常使用类似时间序列数据集的拆分方法，按照时间将数据集拆分为建模集（包含训练集和测试集）、跨时间验证集（<code class="docutils literal notranslate"><span class="pre">Out</span> <span class="pre">of</span> <span class="pre">Time，OOT</span></code>），以保证模型在不同时间段内的泛化能力。</p>
<p>简单起见，示例只拆分训练集、测试集，OOT直接拷贝训练集来演示评分卡建模完整过程。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="n">target</span><span class="p">])</span>

<span class="n">oot</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id9">
<h2>数据预处理<a class="headerlink" href="#id9" title="此标题的永久链接">¶</a></h2>
<p>在评分卡建模标准流程中，会先针对每个变量分箱后转WOE，再筛选特征训练逻辑回归模型，训练完后转评分卡，当数据集的特征个数比较多时，可以再分箱之前先进行特征初筛，以降低分箱时的计算耗时。评分卡建模完整流程可以参照如下流程:</p>
<div style="display: flex; justify-content: space-around;">
    <img src="https://itlubber.art/upload/scorecard-modeling-process.png" style="width: 70%; "/>
</div>
</section>
</section>

</article>
        
          <aside class="nftt-toc">
            <div class="mt-3 mb-1 my-lg-0 ps-xl-3 text-muted">
              <button class="btn btn-link link-dark p-md-0 mb-2 mb-md-0 text-decoration-none nftt-toc-toggle d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#tocContents" aria-expanded="false" aria-controls="tocContents"
              >On this page <i class="ms-2 bi bi-chevron-expand"></i></button>
              <div class="title d-none d-md-block">
                <i class="bi bi-file-earmark-text"></i>&nbsp;&nbsp;<span class="small">On this page</span>
              </div>
              <hr class="d-none d-md-block my-2">
              <div class="collapse nftt-toc-collapse" id="tocContents">
                <nav id="TableOfContents">
                  <ul>
<li><a class="reference internal" href="#">简介</a></li>
<li><a class="reference internal" href="#id2">交流</a></li>
<li><a class="reference internal" href="#id3">版本说明</a></li>
<li><a class="reference internal" href="#id4">环境安装</a></li>
<li><a class="reference internal" href="#id5">使用示例</a><ul>
<li><a class="reference internal" href="#id6">导入依赖</a></li>
<li><a class="reference internal" href="#id7">数据准备</a></li>
<li><a class="reference internal" href="#id8">数据拆分</a></li>
<li><a class="reference internal" href="#id9">数据预处理</a></li>
</ul>
</li>
</ul>

                </nav>
              </div>
            </div>
          </aside>
        
      </main>
    </div>

    <footer class="nftt-footer">
      <nav id="paginator" class="py-4" aria-label="Documentation navigation">
    <div class="container">
      <ul class="pagination justify-content-between mb-0"><li class="page-item">
            <a href="index.html" class="d-flex px-5 align-items-end" rel="prev" aria-label="Previous page: scorecardpipeline">
              <span class="prev-page"><i class="bi bi-caret-left"></i></span>
              <div class="d-flex flex-column">
                <span class="text-small text-start text-muted">Previous</span>
                <span class="underline">scorecardpipeline</span>
              </div>
            </a>
          </li>
        <li class="page-item ms-auto">
            <a href="scorecardpipeline.html" class="d-flex px-5 align-items-end" rel="next" aria-label="Next page: scorecardpipeline">
              <div class="d-flex flex-column">
                <span class="text-small text-end text-start text-muted">Next</span>
                <span class="underline">scorecardpipeline</span>
              </div>
              <span class="next-page"><i class="bi bi-caret-right"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
  </nav>

      <div class="py-5 px-4 px-md-3">
  <div class="container">
    
    <div class="row">
      <ul class="list-unstyled list-separator col-lg-12 pb-2 text-center">
        
          
          
          <li class="d-inline">
            <a href="https://itlubber.art" class="list-item">itlubber</a>
          </li>
        
          
          
          <li class="d-inline">
            <a href="https://github.com/itlubber/scorecardpipeline" class="list-item">github</a>
          </li>
        
          
          
          <li class="d-inline">
            <a href="https://github.com/itlubber/scorecardpipeline/blob/main/examples/scorecard_samples.ipynb" class="list-item">examples</a>
          </li>
        
      </ul>
    </div>
    

    <div class="row">
      <div class="col-lg-12 text-center">
        <a class="brand-text d-inline-flex align-items-center mb-2 text-decoration-none" href="/" aria-label="Nefertiti-for-Sphinx">
          <span class="fs-6 fw-bold">scorecardpipeline</span>
        </a>
        
          <ul class="list-unstyled small text-muted">
            <li>2023, itlubber</li>
          </ul>
        
        
      </div>
    </div>
  </div>
</div>
    </footer>
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/translations.js"></script>
    <script src="_static/design-tabs.js"></script>

    <script type="text/javascript" src="_static/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="_static/sphinx-nefertiti.min.js"></script>
    
  </body>
</html>