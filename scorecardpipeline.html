

<!DOCTYPE html>
<html class="no-js" lang="zh-CN">
  <head>
    <meta charset="utf-8" />
      <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="docsearch:name" content="scorecardpipeline" />
    <meta name="docsearch:package_type" content="" />
    <meta name="docsearch:release" content="0.1.34" />
    <meta name="docsearch:version" content="" />
    
      <title>scorecardpipeline &mdash; scorecardpipeline 0.1.34 文档</title>
    
    <link rel="stylesheet" href="_static/bootstrap-icons.css" type="text/css" />
          <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
          <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
          <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="_static/pygments_dark.css" />
          <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
          <link rel="stylesheet" type="text/css" href="_static/colorsets/sphinx-nefertiti-indigo.min.css" />
          <link rel="stylesheet" type="text/css" href="_static/fonts/nunito/stylesheet.css" />
          <link rel="stylesheet" type="text/css" href="_static/fonts/red-hat-mono/stylesheet.css" />
          <link rel="stylesheet" type="text/css" href="_static/fonts/nunito/stylesheet.css" />
          <link rel="stylesheet" type="text/css" href="_static/fonts/nunito/stylesheet.css" />
          <link rel="stylesheet" type="text/css" href="_static/fonts/nunito/stylesheet.css" />
          <link rel="stylesheet" type="text/css" href="_static/pygments_dark.css" />
        <link rel="index" title="索引" href="genindex.html" />
        <link rel="search" title="搜索" href="search.html" />
        <link rel="top" title="scorecardpipeline 0.1.34 文档" href="#" />
        <link rel="prev" title="简介" href="quickstart.html" />
    <style>
      :root {
        --nftt-body-font-family: "Nunito", var(--nftt-font-sans-serif) !important;
        --nftt-font-monospace: "Red Hat Mono", var(--nftt-font-family-monospace) !important;
        --nftt-project-name-font: "Nunito", var(--nftt-body-font-family);
        --nftt-documentation-font: "Nunito", var(--nftt-body-font-family);
        --nftt-doc-headers-font: "Nunito", var(--nftt-documentation-font);}
      h1 *, h2 *, h3 *, h4 *, h5 *, h6 * { font-size: inherit; }
    </style>
  </head>
  <body>
    <header class="navbar navbar-expand-lg navbar-dark nftt-navbar flex-column fixed-top">
      <div class="skip-links container-xxl visually-hidden-focusable overflow-hidden justify-content-start">
        <div class="border-bottom mb-2 pb-2 w-100">
          <a class="d-none d-md-inline-flex p-2 m-1" href="#sidebar-filter">Skip to docs navigation</a>
          <a class="d-inline-flex p-2 m-1" href="#content">Skip to main content</a>
        </div>
      </div>
      <nav class="container-xxl nftt-gutter flex-wrap flex-lg-nowrap" aria-label="Main navigation">
        <div class="nftt-navbar-toggler">
          <button class="navbar-toggler p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar" aria-controls="sidebar" aria-label="Toggle documentation navigation">
            <i class="bi bi-list"></i>
          </button>
        </div>
          <a href="index.html"
              
              class="navbar-brand p-0 me-0 md-lg-2"
          ><span class="brand-text">scorecardpipeline</span></a>
        
        <div class="d-flex d-lg-none">
          <button class="navbar-toggler p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#nfttSearch" aria-controls="nfttSearch" aria-label="Search">
            <i class="bi bi-search"></i>
          </button>
          <button class="navbar-toggler p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#nfttNavbar" aria-controls="nfttNavbar" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
        </div>
        
<div class="offcanvas-lg offcanvas-end flex-grow-1" tabindex="-1" id="nfttSearch" aria-labelledby="nfttSearchOffcanvasLabel" data-bs-scroll="true">
  <div class="offcanvas-header px-4 pb-0">
    <h5 class="offcanvas-title fw-bold" id="nfttSearchOffcanvasLabel">Search the documentation</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close" data-bs-target="#nfttSearch"></button>
  </div>
  <div class="offcanvas-body p-4 pt-0 p-lg-0 px-lg-3">
    <hr class="d-lg-none text-white-50">
    <ul class="navbar-nav flex-row align-items-center flex-wrap ms-md-auto">
      <li class="nav-item col-12 col-lg-auto">
        <form id="nftt-search-form" action="search.html" method="get">
          <div class="input-group">
            <input type="text" name="q" class="form-control" placeholder="Search docs" aria-label="Search" aria-describedby="button-search">
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <button class="btn btn-primary" type="submit" id="button-search" aria-label="Search"><i class="bi bi-search"></i></button>
          </div>
        </form>
      </li>
    </ul>
  </div>
</div>

        <div class="offcanvas-lg offcanvas-end" tabindex="-1" id="nfttNavbar" aria-labelledby="nfttNavbarOffcanvasLabel" data-bs-scroll="true">
          <div class="offcanvas-header px-4 pb-0">
            <div class="offcanvas-title text-white fw-bold" id="nfttNavbarOffcanvasLabel"><span class="brand-text">Nefertiti for Sphinx</span></div>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close" data-bs-target="#nfttNavbar"></button>
          </div>
          <div class="offcanvas-body p-4 pt-0 p-lg-0">
            <hr class="d-lg-none text-white-50">
            <ul class="navbar-nav flex-row align-items-center flex-wrap ms-md-auto">
              
              <li class="nav-item col-12 col-lg-auto">
                <a class="nav-link py-2 py-lg-0 px-0 px-lg-2" href="https://github.com/itlubber/scorecardpipeline" target="_blank" rel="noopener">
                  <div class="d-flex align-items-center">
                    <div class="me-2">
                      <i class="bi bi-git size-24"></i>
                    </div>
                    <div class="repo d-flex flex-column align-items-center" data-snftt-repo-url="https://github.com/itlubber/scorecardpipeline">
                      itlubber/scorecardpipeline
                      <div class="d-flex justify-content-center" data-snftt-repo-metrics>
                        <span class="pe-2 d-flex justify-content-center align-items-center">
                          <i class="bi bi-tag size-14"></i>
                          <span class="repo-metric" data-snftt-repo-tag></span>
                        </span>
                        <span class="pe-2 d-flex justify-content-center align-items-center">
                          <i class="bi bi-star size-14"></i>
                          <span class="repo-metric" data-snftt-repo-stars></span>
                        </span>
                        <span class="d-flex justify-content-center align-items-center">
                          <i class="bi bi-diagram-2 size-14"></i>
                          <span class="repo-metric" data-snftt-repo-forks></span>
                        </span>
                      </div>
                    </div>
                  </div>
                </a>
              </li>
              <li class="nav-item col-12 col-lg-auto h-100" aria-hidden="true">
                <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div>
                <hr class="d-lg-none text-white-50">
              </li>
              
              <!-- version_dropdown.html -->

  
    <li class="nav-item dropdown">
      <a class="nav-link d-flex py-2 px-0 px-lg-2 dropdown-toggle align-items-center" id="snftt-version" href="#" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Select version">
        <span id="snftt-version-text" class="d-lg-none small">scorecardpipeline</span>
        <span class="small ms-2" data-snftt-version-active="v0.1.34">v0.1.34</span>
      </a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="snftt-version-text">
        <li>
          <h6 class="dropdown-header">Versions</h6>
        </li>
        
          <li>
            <a class="dropdown-item d-flex align-items-center justify-content-between" aria-pressed="false" href="https://itlubber.github.io/scorecardpipeline-docs" data-snftt-version-url="https://itlubber.github.io/scorecardpipeline-docs" data-snftt-version="v0.1.34">
              <span class="small ms-2">v0.1.34</span>
              <i class="bi bi-check ms-auto"></i>
            </a>
          </li>
        
      </ul>
    </li>
  

  <li class="nav-item col-12 col-lg-auto h-100" aria-hidden="true">
    <div class="vr d-none d-lg-flex h-100 mx-lg-2 text-white"></div>
    <hr class="d-lg-none text-white-50">
  </li>

              
              <!-- colorscheme_dropdown.html -->
<li class="nav-item dropdown">
  <a class="nav-link d-flex py-2 px-0 px-lg-2 dropdown-toggle align-items-center" id="snftt-luz" href="#" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false" aria-label="Toggle light/dark">
    <i class="bi bi-circle-half" data-snftt-luz-icon-active></i>
    <span id="snftt-luz-text" class="d-lg-none small ms-2">Toggle light/dark</span>
  </a>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="snftt-luz-text">
    <li>
      <h6 class="dropdown-header">Light/dark</h6>
    </li>
    <li>
      <a class="dropdown-item d-flex align-items-center" data-snftt-luz="light" href="#" aria-pressed="false">
        <span class="small">
          <i class="bi bi-sun" data-snftt-luz-icon="light"></i>
        </span>
        <span class="small ms-3">Light</span>
        <i class="bi bi-check ms-auto"></i>
      </a>
    </li>
    <li>
      <a class="dropdown-item d-flex align-items-center" data-snftt-luz="dark" href="#" aria-pressed="false">
        <span class="small">
          <i class="bi bi-moon-stars" data-snftt-luz-icon="dark"></i>
        </span>
        <span class="small ms-3">Dark</span>
        <i class="bi bi-check ms-auto"></i>
      </a>
    </li>
    <li>
      <a class="dropdown-item current d-flex align-items-center" data-snftt-luz="default" href="#" aria-pressed="false">
        <span class="small">
          <i class="bi bi-circle-half" data-snftt-luz-icon="default"></i>
        </span>
        <span class="small ms-3">Default</span>
        <i class="bi bi-check ms-auto"></i>
      </a>
    </li>
  </ul>
</li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <div class="container-xxl nftt-gutter nftt-layout">
      <aside class="nftt-sidebar">
        <div class="title d-none d-md-block">
          <i class="bi bi-book"></i>&nbsp;&nbsp;<span>Table of contents</span>
        </div>
        <div id="sidebar" tabindex="-1" class="offcanvas-lg offcanvas-start" aria-labelledby="nfttSidebarOffcanvasLabel">
            <!-- danirus sidebartemplate: "globaltoc.html" --><div class="offcanvas-header border-bottom">
  <h5 class="offcanvas-title" id="nfttSidebarOffcanvasLabel">
    Table of contents
  </h5>
  <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close" data-bs-target="#sidebar"></button>
</div>

<div class="offcanvas-body">
  <nav class="toc" aria-label="Main menu">
    <div class="mb-3 p-1 pt-3 pb-4 border-bottom">
      <input id="sidebar-filter" type="text" name="filter" class="form-control form-control-sm" placeholder="filter" aria-label="filter">
    </div>
    <ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#id2">版本说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#id3">环境安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#id4">使用示例</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#id16">交流</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">scorecardpipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-scorecardpipeline.processing">scorecardpipeline.processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-scorecardpipeline.model">scorecardpipeline.model</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-scorecardpipeline.auto_eda">scorecardpipeline.auto_eda</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-scorecardpipeline.auto_report">scorecardpipeline.auto_report</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-scorecardpipeline.utils">scorecardpipeline.utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-scorecardpipeline.excel_writer">scorecardpipeline.excel_writer</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-scorecardpipeline.rule">scorecardpipeline.rule</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-scorecardpipeline.rule_extraction">scorecardpipeline.rule_extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-scorecardpipeline.logger">scorecardpipeline.logger</a></li>
</ul>

  </nav>
  <template data-toggle-item-template>
    <button class="btn btn-sm btn-link toctree-expand" type="button">
      <i class="bi bi-caret-right"></i>
      <span class="visually-hidden">Toggle menu contents</span>
    </button>
  </template>
</div>
        </div>
      </aside>
      <main class="nftt-main">
        <article id="content" class="nftt-content" role="main">
    <section id="module-scorecardpipeline">
<span id="scorecardpipeline"></span><h1>scorecardpipeline</h1>
<p>&#64;Time    : 2023/2/15 17:55
&#64;Author  : itlubber
&#64;Site    : itlubber.art</p>
<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.FeatureSelection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">FeatureSelection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scorecardpy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_rm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureSelection"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.FeatureSelection.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scorecardpy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_rm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureSelection.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征筛选方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>empty</strong> – 空值率，默认 0.95, 即空值占比超过 95% 的特征会被剔除</p></li>
<li><p><strong>iv</strong> – IV值，默认 0.02，即iv值小于 0.02 时特征会被剔除</p></li>
<li><p><strong>corr</strong> – 相关性，默认 0.7，即特征之间相关性大于 0.7 时会剔除iv较小的特征</p></li>
<li><p><strong>identical</strong> – 单一值占比，默认 0.95，即当特征的某个值占比超过 95% 时，特征会被剔除</p></li>
<li><p><strong>exclude</strong> – 是否需要强制保留某些特征</p></li>
<li><p><strong>return_drop</strong> – 是否返回删除信息，默认 True，即默认返回删除特征信息</p></li>
<li><p><strong>remove</strong> – 引擎使用 scorecardpy 时，可以传入需要强制删除的变量</p></li>
<li><p><strong>engine</strong> – 特征筛选使用的引擎，可选 “toad”, “scorecardpy” 两种，默认 scorecardpy</p></li>
<li><p><strong>target_rm</strong> – 是否剔除标签，默认 False，即不剔除</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.FeatureSelection.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureSelection.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>训练特征筛选方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 数据集，需要包含目标变量</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>训练后的 FeatureSelection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.FeatureSelection.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureSelection.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征筛选转换器</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要进行特征筛选的数据集</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，特征筛选后的数据集</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.FeatureImportanceSelector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">FeatureImportanceSelector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">top_k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">126</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'catboost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureImportanceSelector"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.FeatureImportanceSelector.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">top_k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">126</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'catboost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureImportanceSelector.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基于特征重要性的特征筛选方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>top_k</strong> – 依据特征重要性进行排序，筛选最重要的 top_k 个特征</p></li>
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>selector</strong> – 特征选择器，目前只支持 catboost ，可以支持数据集中包含字符串的数据</p></li>
<li><p><strong>params</strong> – selector 的参数，不传使用默认参数</p></li>
<li><p><strong>max_iv</strong> – 是否需要删除 IV 过高的特征，建议设置为 1.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.FeatureImportanceSelector.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureImportanceSelector.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征重要性筛选器训练</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 数据集，需要包含目标变量</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>训练后的 FeatureImportanceSelector</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.FeatureImportanceSelector.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureImportanceSelector.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征重要性筛选器转换方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要进行特征筛选的数据集</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，特征筛选后的数据集</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.FeatureImportanceSelector.catboost_selector">
<span class="sig-name descname"><span class="pre">catboost_selector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureImportanceSelector.catboost_selector"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基于 <cite>CatBoost</cite> 的特征重要性筛选器</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – 需要进行特征重要性筛选的数据集，不包含目标变量</p></li>
<li><p><strong>y</strong> – 数据集中对应的目标变量值</p></li>
<li><p><strong>cat_features</strong> – 类别型特征的索引</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.StepwiseSelection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">StepwiseSelection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">estimator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ols'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criterion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'aic'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_value_enter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_enter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_rm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#StepwiseSelection"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.StepwiseSelection.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">estimator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ols'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criterion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'aic'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_value_enter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_enter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_rm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#StepwiseSelection.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>逐步回归特征筛选方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>estimator</strong> – 预估器，默认 ols，可选 “ols”, “lr”, “lasso”, “ridge”，通常默认即可</p></li>
<li><p><strong>direction</strong> – 逐步回归方向，默认both，可选 “forward”, “backward”, “both”，通常默认即可</p></li>
<li><p><strong>criterion</strong> – 评价指标，默认 aic，可选 “aic”, “bic”, “ks”, “auc”，通常默认即可</p></li>
<li><p><strong>max_iter</strong> – 最大迭代次数，sklearn中使用的参数，默认为 None</p></li>
<li><p><strong>return_drop</strong> – 是否返回特征剔除信息，默认 True</p></li>
<li><p><strong>exclude</strong> – 强制保留的某些特征</p></li>
<li><p><strong>intercept</strong> – 是否包含截距，默认为 True</p></li>
<li><p><strong>p_value_enter</strong> – 特征进入的 p 值，用于前向筛选时决定特征是否进入模型</p></li>
<li><p><strong>p_remove</strong> – 特征剔除的 p 值，用于后向剔除时决定特征是否要剔除</p></li>
<li><p><strong>p_enter</strong> – 特征 p 值，用于判断双向逐步回归是否剔除或者准入特征</p></li>
<li><p><strong>target_rm</strong> – 是否剔除数据集中的标签，默认为 False，即剔除数据集中的标签</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.StepwiseSelection.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#StepwiseSelection.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>训练逐步回归特征筛选方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 数据集，需要包含目标变量</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>训练后的 StepwiseSelection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.StepwiseSelection.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#StepwiseSelection.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>逐步回归特征筛选转换器</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要进行特征筛选的数据集</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，特征筛选后的数据集</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">Combiner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'chi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_separate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_prebins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_prebin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monotonic_trend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto_asc_desc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adj_rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'chi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_separate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_prebins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_prebin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monotonic_trend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto_asc_desc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adj_rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱封装方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>method</strong> – 特征分箱方法，可选 “chi”, “dt”, “quantile”, “step”, “kmeans”, “cart”, “mdlp”, “uniform”, 参考 toad.Combiner: <a class="reference external" href="https://github.com/amphibian-dev/toad/blob/master/toad/transform.py#L178-L355">https://github.com/amphibian-dev/toad/blob/master/toad/transform.py#L178-L355</a> &amp; optbinning.OptimalBinning: <a class="reference external" href="https://gnpalencia.org/optbinning/">https://gnpalencia.org/optbinning/</a></p></li>
<li><p><strong>empty_separate</strong> – 是否空值单独一箱, 默认 True</p></li>
<li><p><strong>min_n_bins</strong> – 最小分箱数，默认 2，即最小拆分2箱</p></li>
<li><p><strong>max_n_bins</strong> – 最大分箱数，默认 None，即不限制拆分箱数，推荐设置 3 ～ 5，不宜过多，偶尔使用 optbinning 时不起效</p></li>
<li><p><strong>max_n_prebins</strong> – 使用 optbinning 时预分箱数量</p></li>
<li><p><strong>min_prebin_size</strong> – 使用 optbinning 时预分箱叶子结点（或者每箱）样本占比，默认 2%</p></li>
<li><p><strong>min_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最小样本占比，默认 5%</p></li>
<li><p><strong>max_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最大样本占比，默认 None</p></li>
<li><p><strong>gamma</strong> – 使用 optbinning 分箱时限制过拟合的正则化参数，值越大惩罚越多，默认 0.01</p></li>
<li><p><strong>monotonic_trend</strong> – 使用 optbinning 正式分箱时的坏率策略，默认 auto，可选 “auto”, “auto_heuristic”, “auto_asc_desc”, “ascending”, “descending”, “convex”, “concave”, “peak”, “valley”, “peak_heuristic”, “valley_heuristic”</p></li>
<li><p><strong>adj_rules</strong> – 自定义分箱规则，toad.Combiner 能够接收的形式</p></li>
<li><p><strong>n_jobs</strong> – 使用多进程加速的worker数量，默认单进程</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.update"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>更新 Combiner 中特征的分箱规则</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rules</strong> – dict，需要更新规则，格式如下：{特征名称: 分箱规则}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.optbinning_bins">
<span class="sig-name descname"><span class="pre">optbinning_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_prebins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_prebin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monotonic_trend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto_asc_desc'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.optbinning_bins"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基于 optbinning.OptimalBinning 的特征分箱方法，使用 optbinning.OptimalBinning 分箱失败时，使用 toad.transform.Combiner 的卡方分箱处理</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature</strong> – 需要进行分箱的特征名称</p></li>
<li><p><strong>data</strong> – 训练数据集</p></li>
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>min_n_bins</strong> – 最小分箱数，默认 2，即最小拆分2箱</p></li>
<li><p><strong>max_n_bins</strong> – 最大分箱数，默认 None，即不限制拆分箱数，推荐设置 3 ～ 5，不宜过多，偶尔不起效</p></li>
<li><p><strong>max_n_prebins</strong> – 使用 optbinning 时预分箱数量</p></li>
<li><p><strong>min_prebin_size</strong> – 使用 optbinning 时预分箱叶子结点（或者每箱）样本占比，默认 2%</p></li>
<li><p><strong>min_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最小样本占比，默认 5%</p></li>
<li><p><strong>max_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最大样本占比，默认 None</p></li>
<li><p><strong>gamma</strong> – 使用 optbinning 分箱时限制过拟合的正则化参数，值越大惩罚越多，默认 0.01</p></li>
<li><p><strong>monotonic_trend</strong> – 使用 optbinning 正式分箱时的坏率策略，默认 auto，可选 “auto”, “auto_heuristic”, “auto_asc_desc”, “ascending”, “descending”, “convex”, “concave”, “peak”, “valley”, “peak_heuristic”, “valley_heuristic”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱训练</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要分箱的数据集，需要包含目标变量</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Combiner，训练完成的分箱器</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.check_rules">
<span class="sig-name descname"><span class="pre">check_rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.check_rules"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>检查类别变量空值是否被转为字符串，如果转为了字符串，强制转回空值，同时检查分箱顺序并调整为正确顺序</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱转换方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – 需要进行分箱转换的数据集</p></li>
<li><p><strong>labels</strong> – 进行分箱转换时是否转换为分箱信息，默认 False，即转换为分箱索引</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，分箱转换后的数据集</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.export"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱器导出 json 保存</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>to_json</strong> – json 文件的路径</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>dict，特征分箱信息</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_json</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.load"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱器加载离线保存的 json 文件</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>from_json</strong> – json 文件的路径</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Combiner，特征分箱器</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.feature_bin_stats">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">feature_bin_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'step'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">greater_is_better</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_separate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.feature_bin_stats"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱统计表，汇总统计特征每个分箱的各项指标信息</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看分箱统计表的数据集</p></li>
<li><p><strong>feature</strong> – 需要查看的分箱统计表的特征名称</p></li>
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>rules</strong> – 根据自定义的规则查看特征分箱统计表，支持 list（单个特征分箱规则） 或 dict（多个特征分箱规则） 格式传入</p></li>
<li><p><strong>combiner</strong> – 提前训练好的特征分箱器，优先级小于 rules</p></li>
<li><p><strong>method</strong> – 特征分箱方法，当传入 rules 或 combiner 时失效，可选 “chi”, “dt”, “quantile”, “step”, “kmeans”, “cart”, “mdlp”, “uniform”, 参考 toad.Combiner: <a class="reference external" href="https://github.com/amphibian-dev/toad/blob/master/toad/transform.py#L178-L355">https://github.com/amphibian-dev/toad/blob/master/toad/transform.py#L178-L355</a> &amp; optbinning.OptimalBinning: <a class="reference external" href="https://gnpalencia.org/optbinning/">https://gnpalencia.org/optbinning/</a></p></li>
<li><p><strong>desc</strong> – 特征描述信息，大部分时候用于传入特征对应的中文名称或者释义</p></li>
<li><p><strong>ks</strong> – 是否统计 KS 信息</p></li>
<li><p><strong>max_n_bins</strong> – 最大分箱数，默认 None，即不限制拆分箱数，推荐设置 3 ～ 5，不宜过多，偶尔使用 optbinning 时不起效</p></li>
<li><p><strong>min_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最小样本占比，默认 5%</p></li>
<li><p><strong>max_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最大样本占比，默认 None</p></li>
<li><p><strong>empty_separate</strong> – 是否空值单独一箱, 默认 False，推荐设置为 True</p></li>
<li><p><strong>return_cols</strong> – list，指定返回部分特征分箱统计表的列，默认 None</p></li>
<li><p><strong>return_rules</strong> – 是否返回特征分箱信息，默认 False</p></li>
<li><p><strong>greater_is_better</strong> – 是否越大越好，默认 “”auto”, 根据最后两箱的 lift 指标自动推断是否越大越好, 可选 True、False、auto</p></li>
<li><p><strong>kwargs</strong> – scorecardpipeline.processing.Combiner 的其他参数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>特征分箱统计表: pd.DataFrame</p></li>
<li><p>特征分箱信息: list，当参数 return_rules 为 True 时返回</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.bin_plot">
<span class="sig-name descname"><span class="pre">bin_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rule</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.bin_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看分箱图的数据集</p></li>
<li><p><strong>x</strong> – 需要查看的分箱图的特征名称</p></li>
<li><p><strong>rule</strong> – 自定义的特征分箱规则，不会修改已训练好的特征分箱信息</p></li>
<li><p><strong>desc</strong> – 特征描述信息，大部分时候用于传入特征对应的中文名称或者释义</p></li>
<li><p><strong>result</strong> – 是否返回特征分箱统计表，默认 False</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>kwargs</strong> – scorecardpipeline.utils.bin_plot 方法其他的参数，参考：<a class="reference external" href="http://localhost:63342/scorecardpipeline/docs/build/html/scorecardpipeline.html#scorecardpipeline.utils.bin_plot">http://localhost:63342/scorecardpipeline/docs/build/html/scorecardpipeline.html#scorecardpipeline.utils.bin_plot</a></p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，特征分箱统计表，当 result 参数为 True 时返回</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.proportion_plot">
<span class="sig-name descname"><span class="pre">proportion_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.proportion_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>数据集中特征的分布情况</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看样本分布的数据集</p></li>
<li><p><strong>x</strong> – 需要查看样本分布的特征名称</p></li>
<li><p><strong>transform</strong> – 是否进行分箱转换，默认 False，当特征为数值型变量时推荐转换分箱后在查看数据分布</p></li>
<li><p><strong>labels</strong> – 进行分箱转换时是否转换为分箱信息，默认 False，即转换为分箱索引</p></li>
<li><p><strong>keys</strong> – 根据某个 key 划分数据集查看数据分布情况，默认 None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.corr_plot">
<span class="sig-name descname"><span class="pre">corr_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figure_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(20,</span> <span class="pre">15)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.corr_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征相关图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看特征相关性的数据集</p></li>
<li><p><strong>transform</strong> – 是否进行分箱转换，默认 False</p></li>
<li><p><strong>figure_size</strong> – 图像大小，默认 (20, 15)</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.badrate_plot">
<span class="sig-name descname"><span class="pre">badrate_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.badrate_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>查看不同时间段的分箱是否平稳，线敞口随时间变化而增大为优，代表了特征在更新的时间区分度更强。线之前没有交叉为优，代表分箱稳定</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看分箱平稳情况的数据集，需包含时间列</p></li>
<li><p><strong>feature</strong> – 需要查看分箱平稳性的特征名称</p></li>
<li><p><strong>date_column</strong> – 数据集中的日期列名称</p></li>
<li><p><strong>labels</strong> – 进行分箱转换时是否转换为分箱信息，默认 True，即转换为分箱</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="scorecardpipeline.Combiner.rules">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rules</span></span></dt>
<dd><p>dict，特征分箱明细信息</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.WOETransformer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">WOETransformer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#WOETransformer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.WOETransformer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#WOETransformer.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>WOE转换器</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>exclude</strong> – 不需要转换 woe 的列</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.WOETransformer.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#WOETransformer.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>WOE转换器训练</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – Combiner 转换后的数据（label 为 False），需要包含目标变量</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>WOETransformer，训练完成的WOE转换器</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.WOETransformer.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#WOETransformer.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征WOE转换方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要进行WOE转换的数据集</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，WOE转换后的数据集</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="scorecardpipeline.WOETransformer.rules">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rules</span></span></dt>
<dd><p>dict，特征 WOE 明细信息</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.ITLubberLogisticRegression">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">ITLubberLogisticRegression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">penalty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calculate_stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dual</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intercept_scaling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lbfgs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warm_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l1_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">LogisticRegression</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ITLubberLogisticRegression.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">penalty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calculate_stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dual</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intercept_scaling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lbfgs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warm_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l1_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>ITLubberLogisticRegression，继承 sklearn.linear_model.LogisticRegression 方法，增加了统计性描述相关的内容输出，核心实现逻辑参考：<a class="reference external" href="https://github.com/ing-bank/skorecard/blob/main/skorecard/linear_model/linear_model.py#L11">https://github.com/ing-bank/skorecard/blob/main/skorecard/linear_model/linear_model.py#L11</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>calculate_stats</strong> – 是否在训练模型时记录模型统计信息，默认 True，可以通过 summary 方法输出相关统计信息</p></li>
<li><p><strong>tol</strong> – 停止求解的标准，float类型，默认为1e-4</p></li>
<li><p><strong>C</strong> – 正则化系数λ的倒数，float类型，默认为1.0，必须是正浮点型数，值越小惩罚越大</p></li>
<li><p><strong>fit_intercept</strong> – 是否存在截距或偏差，bool类型，默认为True</p></li>
<li><p><strong>class_weight</strong> – 类型权重参数，默认 None，支持传入 dict or balanced，当设置 balanced 时，权重计算方式：n_samples / (n_classes * np.bincount(y))</p></li>
<li><p><strong>solver</strong> – 求解器设置，默认 lbfgs。对于小型数据集来说，选择 liblinear 更好；对于大型数据集来说，saga 或者 sag 会更快一些。对于多类问题我们只能使用 newton-cg、sag、saga、lbfgs。对于正则化来说，newton-cg、lbfgs 和 sag 只能用于L2正则化(因为这些优化算法都需要损失函数的一阶或者二阶连续导数， 因此无法用于没有连续导数的L1正则化)；而 liblinear，saga 则可处理L1正则化。newton-cg 是牛顿家族中的共轭梯度法，lbfgs 是一种拟牛顿法，sag 则是随机平均梯度下降法，saga 是随机优化算法，liblinear 是坐标轴下降法。</p></li>
<li><p><strong>penalty</strong> – 惩罚项，默认 l2，可选 l1、l2，solver 为 newton-cg、sag 和 lbfgs 时只支持L2，L1假设的是模型的参数满足拉普拉斯分布，L2假设的模型参数满足高斯分布</p></li>
<li><p><strong>intercept_scaling</strong> – 仅在 solver 选择 liblinear 并且 fit_intercept 设置为 True 的时候才有用</p></li>
<li><p><strong>dual</strong> – 对偶或原始方法，bool类型，默认为False，对偶方法只用在求解线性多核(liblinear)的L2惩罚项上。当样本数量&gt;样本特征的时候，dual通常设置为False</p></li>
<li><p><strong>random_state</strong> – 随机数种子，int类型，可选参数，默认为无，仅在 solver 为 sag 和 liblinear 时有用</p></li>
<li><p><strong>max_iter</strong> – 算法收敛最大迭代次数，int类型，默认 100。只在 solver 为 newton-cg、sag 和 lbfgs 时有用</p></li>
<li><p><strong>multi_class</strong> – 分类方法参数选择，默认 auto，可选 ovr、multinomial，如果分类问题是二分类问题，那么这两个参数的效果是一样的，主要体现在多分类问题上</p></li>
<li><p><strong>verbose</strong> – 日志级别，当 solver 为 liblinear、lbfgs 时设置为任意正数显示详细计算过程</p></li>
<li><p><strong>warm_start</strong> – 热启动参数，bool类型，表示是否使用上次的模型结果作为初始化，默认为 False</p></li>
<li><p><strong>n_jobs</strong> – 并行运算数量，默认为1，如果设置为-1，则表示将电脑的cpu全部用上</p></li>
<li><p><strong>l1_ratio</strong> – 弹性网络参数，其中0 &lt;= l1_ratio &lt;=1，仅当 penalty 为 elasticnet 时有效</p></li>
</ul>
</dd>
</dl>
<p><strong>参考样例</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">feature_pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s2">&quot;preprocessing_select&quot;</span><span class="p">,</span> <span class="n">FeatureSelection</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;scorecardpy&quot;</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s2">&quot;combiner&quot;</span><span class="p">,</span> <span class="n">Combiner</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">min_samples</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s2">&quot;transform&quot;</span><span class="p">,</span> <span class="n">WOETransformer</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s2">&quot;processing_select&quot;</span><span class="p">,</span> <span class="n">FeatureSelection</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;scorecardpy&quot;</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s2">&quot;stepwise&quot;</span><span class="p">,</span> <span class="n">StepwiseSelection</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># (&quot;logistic&quot;, LogisticClassifier(target=target)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s2">&quot;logistic&quot;</span><span class="p">,</span> <span class="n">ITLubberLogisticRegression</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feature_pipeline</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">summary</span> <span class="o">=</span> <span class="n">feature_pipeline</span><span class="o">.</span><span class="n">named_steps</span><span class="p">[</span><span class="s1">&#39;logistic&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">summary</span>
<span class="go">                                                    Coef.  Std.Err       z  P&gt;|z|  [ 0.025  0.975 ]    VIF</span>
<span class="go">const                                               -0.8511   0.0991 -8.5920 0.0000  -1.0452  -0.6569 1.0600</span>
<span class="go">credit_history                                       0.8594   0.1912  4.4954 0.0000   0.4847   1.2341 1.0794</span>
<span class="go">age_in_years                                         0.6176   0.2936  2.1032 0.0354   0.0421   1.1932 1.0955</span>
<span class="go">savings_account_and_bonds                            0.8842   0.2408  3.6717 0.0002   0.4122   1.3563 1.0331</span>
<span class="go">credit_amount                                        0.7027   0.2530  2.7771 0.0055   0.2068   1.1987 1.1587</span>
<span class="go">status_of_existing_checking_account                  0.6891   0.1607  4.2870 0.0000   0.3740   1.0042 1.0842</span>
<span class="go">personal_status_and_sex                              0.8785   0.5051  1.7391 0.0820  -0.1116   1.8685 1.0113</span>
<span class="go">purpose                                              1.1370   0.2328  4.8844 0.0000   0.6807   1.5932 1.0282</span>
<span class="go">present_employment_since                             0.7746   0.3247  2.3855 0.0171   0.1382   1.4110 1.0891</span>
<span class="go">installment_rate_in_percentage_of_disposable_income  1.3785   0.3434  4.0144 0.0001   0.7055   2.0515 1.0300</span>
<span class="go">duration_in_month                                    0.9310   0.1986  4.6876 0.0000   0.5417   1.3202 1.1636</span>
<span class="go">other_installment_plans                              0.8521   0.3459  2.4637 0.0138   0.1742   1.5301 1.0117</span>
<span class="go">housing                                              0.8251   0.4346  1.8983 0.0577  -0.0268   1.6770 1.0205</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ITLubberLogisticRegression.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>逻辑回归训练方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – 训练数据集，需包含目标变量</p></li>
<li><p><strong>sample_weight</strong> – 样本权重，参考：<a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html#sklearn.linear_model.LogisticRegression.fit">https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html#sklearn.linear_model.LogisticRegression.fit</a></p></li>
<li><p><strong>kwargs</strong> – 其他逻辑回归模型训练参数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>ITLubberLogisticRegression，训练完成的逻辑回归模型</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ITLubberLogisticRegression.decision_function">
<span class="sig-name descname"><span class="pre">decision_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.decision_function"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>决策函数</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要预测的数据集，可以包含目标变量，会根据列名进行判断，如果包含会删除相关特征</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray，预测结果</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ITLubberLogisticRegression.corr">
<span class="sig-name descname"><span class="pre">corr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.corr"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>数据集的特征相关性图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要画特征相关性图的数据集</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>annot</strong> – 是否在图中显示相关性的数值，默认 True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ITLubberLogisticRegression.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.report"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>逻辑回归模型报告</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> – 需要评估的数据集</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，模型报告，包含准确率、F1等指标，参考：<a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.classification_report.html">https://scikit-learn.org/stable/modules/generated/sklearn.metrics.classification_report.html</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ITLubberLogisticRegression.summary">
<span class="sig-name descname"><span class="pre">summary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.summary"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame，逻辑回归模型统计信息</p>
</dd>
</dl>
<ul class="simple">
<li><p><cite>Coef.</cite>: 逻辑回归入模特征洗漱</p></li>
<li><p><cite>Std.Err</cite>: 标准误差</p></li>
<li><p><cite>z</cite>: Z检验统计量</p></li>
<li><p><cite>P&gt;|z|</cite>: P值</p></li>
<li><p><cite>[ 0.025</cite>: 置信区间下界</p></li>
<li><p><cite>0.975 ]</cite>: 置信区间上界</p></li>
<li><p><cite>VIF</cite>: 膨胀方差因子</p></li>
</ul>
<p><strong>参考样例</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">summary</span> <span class="o">=</span> <span class="n">logistic</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">summary</span>
<span class="go">                                                    Coef.  Std.Err       z  P&gt;|z|  [ 0.025  0.975 ]    VIF</span>
<span class="go">const                                               -0.8511   0.0991 -8.5920 0.0000  -1.0452  -0.6569 1.0600</span>
<span class="go">credit_history                                       0.8594   0.1912  4.4954 0.0000   0.4847   1.2341 1.0794</span>
<span class="go">age_in_years                                         0.6176   0.2936  2.1032 0.0354   0.0421   1.1932 1.0955</span>
<span class="go">savings_account_and_bonds                            0.8842   0.2408  3.6717 0.0002   0.4122   1.3563 1.0331</span>
<span class="go">credit_amount                                        0.7027   0.2530  2.7771 0.0055   0.2068   1.1987 1.1587</span>
<span class="go">status_of_existing_checking_account                  0.6891   0.1607  4.2870 0.0000   0.3740   1.0042 1.0842</span>
<span class="go">personal_status_and_sex                              0.8785   0.5051  1.7391 0.0820  -0.1116   1.8685 1.0113</span>
<span class="go">purpose                                              1.1370   0.2328  4.8844 0.0000   0.6807   1.5932 1.0282</span>
<span class="go">present_employment_since                             0.7746   0.3247  2.3855 0.0171   0.1382   1.4110 1.0891</span>
<span class="go">installment_rate_in_percentage_of_disposable_income  1.3785   0.3434  4.0144 0.0001   0.7055   2.0515 1.0300</span>
<span class="go">duration_in_month                                    0.9310   0.1986  4.6876 0.0000   0.5417   1.3202 1.1636</span>
<span class="go">other_installment_plans                              0.8521   0.3459  2.4637 0.0138   0.1742   1.5301 1.0117</span>
<span class="go">housing                                              0.8251   0.4346  1.8983 0.0577  -0.0268   1.6770 1.0205</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ITLubberLogisticRegression.summary2">
<span class="sig-name descname"><span class="pre">summary2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.summary2"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>summary 的基础上，支持传入数据字典，输出带有特征释义的统计信息表</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>feature_map</strong> – 数据字典，默认 {}</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，逻辑回归模型统计信息</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ITLubberLogisticRegression.convert_sparse_matrix">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convert_sparse_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.convert_sparse_matrix"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>稀疏特征优化</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ITLubberLogisticRegression.plot_weights">
<span class="sig-name descname"><span class="pre">plot_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#2639E9',</span> <span class="pre">'#F76E6C',</span> <span class="pre">'#FE7715']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.plot_weights"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>逻辑回归模型系数误差图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>figsize</strong> – 图片大小，默认 (15, 8)</p></li>
<li><p><strong>fontsize</strong> – 字体大小，默认 14</p></li>
<li><p><strong>color</strong> – 图片主题颜色，默认即可</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">ScoreCard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_odds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_score</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">750</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretrain_lr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pipeline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">ScoreCard</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_odds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_score</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">750</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretrain_lr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pipeline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>评分卡模型</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>pdo</strong> – odds 每增加 rate 倍时减少 pdo 分，默认 60</p></li>
<li><p><strong>rate</strong> – 倍率</p></li>
<li><p><strong>base_odds</strong> – 基础 odds，通常根据业务经验设置的基础比率（违约概率/正常概率），估算方法：（1-样本坏客户占比）/坏客户占比，默认 35，即 35:1 =&gt; 0.972 =&gt; 坏样本率 2.8%</p></li>
<li><p><strong>base_score</strong> – 基础 odds 对应的分数，默认 750</p></li>
<li><p><strong>combiner</strong> – 分箱转换器，传入 pipeline 时可以为None</p></li>
<li><p><strong>transer</strong> – woe转换器，传入 pipeline 时可以为None</p></li>
<li><p><strong>pretrain_lr</strong> – 预训练好的逻辑回归模型，可以不传</p></li>
<li><p><strong>pipeline</strong> – 训练好的 pipeline，必须包含 Combiner 和 WOETransformer</p></li>
<li><p><strong>kwargs</strong> – 其他相关参数，具体参考 toad.ScoreCard</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>评分卡模型训练方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 转换为 WOE 后的训练数据，需包含目标变量</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>ScoreCard，训练好的评分卡模型</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>评分转换方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要预测模型评分的原始数据，非 woe 转换后的数据</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>预测的评分分数</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.score_clip">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">score_clip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.score_clip"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>传入评分分数，根据评分分布情况，返回评分等距分箱规则</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score</strong> – 评分数据</p></li>
<li><p><strong>clip</strong> – 区间间隔</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>list，评分分箱规则</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.scorecard_scale">
<span class="sig-name descname"><span class="pre">scorecard_scale</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.scorecard_scale"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>输出评分卡基准信息，包含 base_odds、base_score、rate、pdo、A、B</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame，评分卡基准信息</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.format_bins">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">format_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ellipsis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.format_bins"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>分箱转换为标签</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bins</strong> – 分箱</p></li>
<li><p><strong>index</strong> – 是否需要索引</p></li>
<li><p><strong>ellipsis</strong> – 字符显示最大长度</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray: 分箱标签</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.scorecard_points">
<span class="sig-name descname"><span class="pre">scorecard_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.scorecard_points"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>输出评分卡分箱信息及其对应的分数</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>feature_map</strong> – 数据字典，默认 {}，传入入模特征的数据字典，输出信息中将增加一列 变量含义</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，评分卡分箱信息</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.scorecard2pmml">
<span class="sig-name descname"><span class="pre">scorecard2pmml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmml</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'scorecard.pmml'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.scorecard2pmml"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>转换评分卡模型为本地 PMML 文件，使用本功能需要提前在环境中安装 jdk 1.8+ 以及 sklearn2pmml 库</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmml</strong> – 保存 PMML 模型文件的路径</p></li>
<li><p><strong>debug</strong> – bool，是否开启调试模式，默认 False，当设置为 True 时，会返回评分卡 pipeline，同时显示转换细节</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>sklearn.pipeline.Pipeline，当设置 debug 为 True 时，返回评分卡 pipeline</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.KS_bucket">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">KS_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'quantile'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.KS_bucket"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>用于评估评分卡排序性的方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> – 模型预测结果，传入评分卡预测的评分或LR预测的概率</p></li>
<li><p><strong>y_true</strong> – 样本好坏标签</p></li>
<li><p><strong>bucket</strong> – 分箱数量，默认 10</p></li>
<li><p><strong>method</strong> – 分箱方法，支持 chi、dt、quantile、step、kmeans，默认 quantile</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>评分卡分箱后的统计信息，推荐直接使用 feature_bin_stats 方法</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.KS">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">KS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.KS"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>计算 KS 指标</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> – 模型预测结果，传入评分卡预测的评分或LR预测的概率</p></li>
<li><p><strong>y_true</strong> – 样本好坏标签</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>float，KS 指标</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.AUC">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AUC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.AUC"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>计算 AUC 指标</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> – 模型预测结果，传入评分卡预测的评分或LR预测的概率</p></li>
<li><p><strong>y_true</strong> – 样本好坏标签</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>float，AUC 指标</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.perf_eva">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">perf_eva</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['ks',</span> <span class="pre">'roc']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(14,</span> <span class="pre">6)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.perf_eva"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>评分卡效果评估方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> – 模型预测结果，传入评分卡预测的评分或LR预测的概率</p></li>
<li><p><strong>y_true</strong> – 样本好坏标签</p></li>
<li><p><strong>title</strong> – 图像标题</p></li>
<li><p><strong>plot_type</strong> – 画图的类型，可选 ks、auc、lift、pr</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>figsize</strong> – 图像尺寸大小，传入一个tuple，默认 （14， 6）</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>dict，包含 ks、auc、gini、figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.ks_plot">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ks_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(16,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.ks_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>数值特征 KS曲线 &amp; ROC曲线</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score</strong> – 数值特征，通常为评分卡分数</p></li>
<li><p><strong>y_true</strong> – 标签值</p></li>
<li><p><strong>title</strong> – 图像标题</p></li>
<li><p><strong>fontsize</strong> – 字体大小，默认 14</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (16, 8)</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>kwargs</strong> – 其他参数，参考：scorecardpipeline.utils.hist_plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.PSI">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PSI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred_oot</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.PSI"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>计算两个数据集评分或预测结果的 PSI</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred_train</strong> – 基准数据集的数值特征，通常为评分卡分数</p></li>
<li><p><strong>y_pred_oot</strong> – 对照数据集的数值特征</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>float，PSI 指标值</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.perf_psi">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">perf_psi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred_oot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true_oot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['train',</span> <span class="pre">'test']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_tick_break</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_distr_dat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.perf_psi"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>scorecardpy 的 perf_psi 方法，基于两个数据集的画 PSI 图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred_train</strong> – 基准数据集的数值特征，通常为评分卡分数</p></li>
<li><p><strong>y_pred_oot</strong> – 对照数据集的数值特征</p></li>
<li><p><strong>y_true_train</strong> – 基准数据集的真实标签</p></li>
<li><p><strong>y_true_oot</strong> – 基准数据集的真实标签</p></li>
<li><p><strong>keys</strong> – 基准数据集和对照数据集的名称</p></li>
<li><p><strong>x_limits</strong> – x 轴的区间，默认为 None</p></li>
<li><p><strong>x_tick_break</strong> – 评分区间步长</p></li>
<li><p><strong>show_plot</strong> – 是否显示图像，默认 True</p></li>
<li><p><strong>return_distr_dat</strong> – 是否返回分布数据</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>dict，PSI 指标 &amp; 图片</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.score_hist">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">score_hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.score_hist"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>数值特征分布图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score</strong> – 数值特征，通常为评分卡分数</p></li>
<li><p><strong>y_true</strong> – 标签值</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (15, 10)</p></li>
<li><p><strong>bins</strong> – 分箱数量大小，默认 30</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>kwargs</strong> – scorecardpipeline.utils.hist_plot 方法的其他参数</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.class_steps">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">class_steps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pipeline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.class_steps"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据 query 查询 pipeline 中对应的 step</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pipeline</strong> – sklearn.pipeline.Pipeline，训练后的数据预处理 pipeline</p></li>
<li><p><strong>query</strong> – 需要查询的类，可以从 pipeline 中查找 WOETransformer 和 Combiner</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>list，对应的组件</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ScoreCard.feature_bin_stats">
<span class="sig-name descname"><span class="pre">feature_bin_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'step'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'评分卡分数'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.feature_bin_stats"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>评估评分卡排序性的方法，可以输出各分数区间的各项指标</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看的数据集</p></li>
<li><p><strong>feature</strong> – 数值性特征名称，通常为预测的概率或评分卡分数</p></li>
<li><p><strong>rules</strong> – 自定义的区间划分规则</p></li>
<li><p><strong>method</strong> – 分箱方法</p></li>
<li><p><strong>max_n_bins</strong> – 最大分箱数</p></li>
<li><p><strong>desc</strong> – 特征描述</p></li>
<li><p><strong>ks</strong> – 是否统计 KS 指标并输出相关统计信息</p></li>
<li><p><strong>kwargs</strong> – Combiner.feature_bin_stats 方法的其他参数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，评分各区间的统计信息</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.Rule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">Rule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule.html#Rule"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Rule.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule.html#Rule.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>规则集</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>expr</strong> – 类似 DataFrame 的 query 方法传参方式即可，目前仅支持数值型变量规则</p>
</dd>
</dl>
<p><strong>参考样例</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scorecardpipeline</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="s2">&quot;creditability&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">germancredit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="n">target</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">target</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s2">&quot;good&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;bad&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="s2">&quot;number&quot;</span><span class="p">)</span> <span class="c1"># 暂不支持字符型规则</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rule1</span> <span class="o">=</span> <span class="n">Rule</span><span class="p">(</span><span class="s2">&quot;duration_in_month &lt; 10&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rule2</span> <span class="o">=</span> <span class="n">Rule</span><span class="p">(</span><span class="s2">&quot;credit_amount &lt; 500&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rule1</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rule2</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">rule1</span> <span class="o">|</span> <span class="n">rule2</span><span class="p">)</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">rule1</span> <span class="o">&amp;</span> <span class="n">rule2</span><span class="p">)</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Rule.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule.html#Rule.predict"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Rule.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overdue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'overdue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_grey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior_rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/scorecardpipeline/rule.html#Rule.report"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>规则效果报告表格输出</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datasets</strong> – 数据集，需要包含 目标变量 或 逾期天数，当不包含目标变量时，会通过逾期天数计算目标变量，同时需要传入逾期定义的DPD天数</p></li>
<li><p><strong>target</strong> – 目标变量名称，默认 target</p></li>
<li><p><strong>desc</strong> – 规则相关的描述，会出现在返回的表格当中</p></li>
<li><p><strong>return_cols</strong> – 指定返回的字段列表，默认不传</p></li>
<li><p><strong>prior_rules</strong> – 先验规则，可以传入先验规则先筛选数据后再评估规则效果</p></li>
<li><p><strong>overdue</strong> – 逾期天数字读名称</p></li>
<li><p><strong>dpd</strong> – 逾期定义方式，逾期天数 &gt; DPD 为 1，其他为 0，仅 overdue 字段起作用时有用</p></li>
<li><p><strong>del_grey</strong> – 是否删除逾期天数 (0, dpd] 的数据，仅 overdue 字段起作用时有用</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，规则效果评估表</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.Rule.result">
<span class="sig-name descname"><span class="pre">result</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule.html#Rule.result"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.DecisionTreeRuleExtractor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">DecisionTreeRuleExtractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['positive',</span> <span class="pre">'negative']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2639E9'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.DecisionTreeRuleExtractor.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['positive',</span> <span class="pre">'negative']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2639E9'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>决策树自动规则挖掘工具包</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中好坏样本标签列名称，默认 target</p></li>
<li><p><strong>labels</strong> – 好坏样本标签名称，传入一个长度为2的列表，第0个元素为好样本标签，第1个元素为坏样本标签，默认 [“positive”, “negative”]</p></li>
<li><p><strong>feature_map</strong> – 变量名称及其含义，在后续输出报告和策略信息时增加可读性，默认 {}</p></li>
<li><p><strong>nan</strong> – 在决策树策略挖掘时，默认空值填充的值，默认 -1</p></li>
<li><p><strong>max_iter</strong> – 最多支持在数据集上训练多少颗树模型，每次生成一棵树后，会剔除特征重要性最高的特征后，再生成树，默认 128</p></li>
<li><p><strong>writer</strong> – 在之前程序运行时生成的 ExcelWriter，可以支持传入一个已有的writer，后续所有内容将保存至该workbook中，默认 None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.DecisionTreeRuleExtractor.encode_cat_features">
<span class="sig-name descname"><span class="pre">encode_cat_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.encode_cat_features"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.DecisionTreeRuleExtractor.get_dt_rules">
<span class="sig-name descname"><span class="pre">get_dt_rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_bad_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_count</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.get_dt_rules"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.DecisionTreeRuleExtractor.select_dt_rules">
<span class="sig-name descname"><span class="pre">select_dt_rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decision_tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.select_dt_rules"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.DecisionTreeRuleExtractor.query_dt_rules">
<span class="sig-name descname"><span class="pre">query_dt_rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.query_dt_rules"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.DecisionTreeRuleExtractor.insert_dt_rules">
<span class="sig-name descname"><span class="pre">insert_dt_rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parsed_rules</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(500,</span> <span class="pre">350)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.insert_dt_rules"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.DecisionTreeRuleExtractor.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_score</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>组合策略挖掘</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – 包含标签的数据集</p></li>
<li><p><strong>max_depth</strong> – 决策树最大深度，即最多组合的特征个数，默认 2</p></li>
<li><p><strong>lift</strong> – 组合策略最小的lift值，默认 0.，即全部组合策略</p></li>
<li><p><strong>max_samples</strong> – 每条组合策略的最大样本占比，默认 1.0，即全部组合策略</p></li>
<li><p><strong>min_score</strong> – 决策树拟合时最小的auc，如果不满足则停止后续生成决策树</p></li>
<li><p><strong>verbose</strong> – 是否调试模式，仅在 jupyter 环境有效</p></li>
<li><p><strong>kwargs</strong> – DecisionTreeClassifier 参数，参考 <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html">https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html</a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.DecisionTreeRuleExtractor.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.DecisionTreeRuleExtractor.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">valid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'组合策略汇总'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.report"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>组合策略插入excel文档</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>valid</strong> – 验证数据集</p></li>
<li><p><strong>sheet</strong> – 保存组合策略的表格sheet名称</p></li>
<li><p><strong>save</strong> – 保存报告的文件路径</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回每个数据集组合策略命中情况</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.KS">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">KS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toad/metrics.html#KS"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>calculate ks value</p>
<dl class="simple">
<dt>Args:</dt><dd><p>score (array-like): list of score or probability that the model predict
target (array-like): list of real target</p>
</dd>
<dt>Returns:</dt><dd><p>float: the max KS value</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.AUC">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">AUC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_curve</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toad/metrics.html#AUC"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>AUC Score</p>
<dl class="simple">
<dt>Args:</dt><dd><p>score (array-like): list of score or probability that the model predict
target (array-like): list of real target
return_curve (bool): if need return curve data for ROC plot</p>
</dd>
<dt>Returns:</dt><dd><p>float: auc score</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.PSI">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">PSI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toad/metrics.html#PSI"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>calculate PSI</p>
<dl class="simple">
<dt>Args:</dt><dd><p>test (array-like): data to test PSI
base (array-like): base data for calculate PSI
combiner (Combiner|list|dict): combiner to combine data
return_frame (bool): if need to return frame of proportion</p>
</dd>
<dt>Returns:</dt><dd><p>float|Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.F1">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">F1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'best'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/toad/metrics.html#F1"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>calculate f1 value</p>
<dl class="simple">
<dt>Args:</dt><dd><p>score (array-like)
target (array-like)</p>
</dd>
<dt>Returns:</dt><dd><p>float: best f1 score
float: best spliter</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.init_logger">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">init_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'[</span> <span class="pre">%(asctime)s</span> <span class="pre">][</span> <span class="pre">%(levelname)s</span> <span class="pre">][</span> <span class="pre">%(filename)s:%(funcName)s:%(lineno)d</span> <span class="pre">]</span> <span class="pre">%(message)s'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datefmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/logger.html#init_logger"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>初始化日志</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – 日志文件存储地址，如果不传不记录日志到文件中，默认为 None</p></li>
<li><p><strong>stream</strong> – 是否显示在终端中，默认 True</p></li>
<li><p><strong>fmt</strong> – 日志格式，参考：<a class="reference external" href="https://docs.python.org/3/library/logging.html#formatter-objects">https://docs.python.org/3/library/logging.html#formatter-objects</a></p></li>
<li><p><strong>datefmt</strong> – 日期格式</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>logging.Logger</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.init_setting">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">init_setting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">font_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freeze_torch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#init_setting"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>初始化环境配置，去除警告信息、修改 pandas 默认配置、固定随机种子、日志记录</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seed</strong> – 随机种子，默认为 None</p></li>
<li><p><strong>freeze_torch</strong> – 是否固定 pytorch 环境</p></li>
<li><p><strong>font_path</strong> – 画图时图像使用的字体，支持系统字体名称、本地字体文件路径，默认为 scorecardppeline 提供的中文字体</p></li>
<li><p><strong>logger</strong> – 是否需要初始化日志器，默认为 False ，当参数为 True 时返回 logger</p></li>
<li><p><strong>kwargs</strong> – 日志初始化传入的相关参数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>当 logger 为 True 时返回 logging.Logger</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.load_pickle">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">load_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#load_pickle"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>导入 pickle 文件</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> – pickle 文件路径</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pickle 文件的内容</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.save_pickle">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">save_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#save_pickle"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>保持数据至 pickle 文件</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – 需要保存的数据</p></li>
<li><p><strong>file</strong> – 文件路径</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.germancredit">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">germancredit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#germancredit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>加载德国信贷数据集 German Credit Data</p>
<p>数据来源：<a class="reference external" href="https://archive.ics.uci.edu/dataset/144/statlog+german+credit+data">https://archive.ics.uci.edu/dataset/144/statlog+german+credit+data</a></p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.ColorScaleRule">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">ColorScaleRule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mid_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mid_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mid_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openpyxl/formatting/rule.html#ColorScaleRule"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>Backwards compatibility</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.get_column_letter">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">get_column_letter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openpyxl/utils/cell.html#get_column_letter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>Convert a column index into a column letter
(3 -&gt; ‘C’)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.column_index_from_string">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">column_index_from_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_col</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openpyxl/utils/cell.html#column_index_from_string"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>Convert a column name into a numerical index
(‘A’ -&gt; 1)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.seed_everything">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">seed_everything</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freeze_torch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#seed_everything"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>固定当前环境随机种子，以保证后续实验可重复</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seed</strong> – 随机种子</p></li>
<li><p><strong>freeze_torch</strong> – 是否固定 pytorch 的随机种子</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.feature_bins">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">feature_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#feature_bins"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据 Combiner 的规则生成分箱区间，并生成区间对应的索引</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bins</strong> – Combiner 的规则</p></li>
<li><p><strong>decimal</strong> – 区间上下界需要保留的精度，默认小数点后4位</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>dict ，key 为区间的索引，value 为区间</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.feature_bin_stats">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">feature_bin_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'step'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">greater_is_better</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_separate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>特征分箱统计表，汇总统计特征每个分箱的各项指标信息</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看分箱统计表的数据集</p></li>
<li><p><strong>feature</strong> – 需要查看的分箱统计表的特征名称</p></li>
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>rules</strong> – 根据自定义的规则查看特征分箱统计表，支持 list（单个特征分箱规则） 或 dict（多个特征分箱规则） 格式传入</p></li>
<li><p><strong>combiner</strong> – 提前训练好的特征分箱器，优先级小于 rules</p></li>
<li><p><strong>method</strong> – 特征分箱方法，当传入 rules 或 combiner 时失效，可选 “chi”, “dt”, “quantile”, “step”, “kmeans”, “cart”, “mdlp”, “uniform”, 参考 toad.Combiner: <a class="reference external" href="https://github.com/amphibian-dev/toad/blob/master/toad/transform.py#L178-L355">https://github.com/amphibian-dev/toad/blob/master/toad/transform.py#L178-L355</a> &amp; optbinning.OptimalBinning: <a class="reference external" href="https://gnpalencia.org/optbinning/">https://gnpalencia.org/optbinning/</a></p></li>
<li><p><strong>desc</strong> – 特征描述信息，大部分时候用于传入特征对应的中文名称或者释义</p></li>
<li><p><strong>ks</strong> – 是否统计 KS 信息</p></li>
<li><p><strong>max_n_bins</strong> – 最大分箱数，默认 None，即不限制拆分箱数，推荐设置 3 ～ 5，不宜过多，偶尔使用 optbinning 时不起效</p></li>
<li><p><strong>min_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最小样本占比，默认 5%</p></li>
<li><p><strong>max_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最大样本占比，默认 None</p></li>
<li><p><strong>empty_separate</strong> – 是否空值单独一箱, 默认 False，推荐设置为 True</p></li>
<li><p><strong>return_cols</strong> – list，指定返回部分特征分箱统计表的列，默认 None</p></li>
<li><p><strong>return_rules</strong> – 是否返回特征分箱信息，默认 False</p></li>
<li><p><strong>greater_is_better</strong> – 是否越大越好，默认 “”auto”, 根据最后两箱的 lift 指标自动推断是否越大越好, 可选 True、False、auto</p></li>
<li><p><strong>kwargs</strong> – scorecardpipeline.processing.Combiner 的其他参数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>特征分箱统计表: pd.DataFrame</p></li>
<li><p>特征分箱信息: list，当参数 return_rules 为 True 时返回</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.extract_feature_bin">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">extract_feature_bin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bin_var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#extract_feature_bin"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据单个区间提取的分箱的上下界</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bin_var</strong> – 区间字符串</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>list or tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.inverse_feature_bins">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">inverse_feature_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'分箱'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#inverse_feature_bins"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据变量分箱表得到 Combiner 的规则</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature_table</strong> – 变量分箱表</p></li>
<li><p><strong>bin_col</strong> – 变量分箱表中分箱对应的列名，默认 分箱</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.sample_lift_transformer">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">sample_lift_transformer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rule</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#sample_lift_transformer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>采取好坏样本 sample_rate:1 的抽样方式时，计算抽样样本和原始样本上的 lift 指标</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – 原始数据，需全部为数值型变量</p></li>
<li><p><strong>rule</strong> – Rule</p></li>
<li><p><strong>target</strong> – 目标变量名称</p></li>
<li><p><strong>sample_rate</strong> – 好样本采样比例</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>lift_sam: float, 抽样样本上拒绝人群的lift
lift_ori: float, 原始样本上拒绝人群的lift</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.bin_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">bin_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(10,</span> <span class="pre">6)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#2639E9',</span> <span class="pre">'#F76E6C',</span> <span class="pre">'#FE7715']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.935</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'color':</span> <span class="pre">'#000000'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'分箱图'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#bin_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>简单策略挖掘：特征分箱图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature_table</strong> – 特征分箱的统计信息表，由 feature_bin_stats 运行得到</p></li>
<li><p><strong>desc</strong> – 特征中文含义或者其他相关信息</p></li>
<li><p><strong>figsize</strong> – 图像尺寸大小，传入一个tuple，默认 （10， 6）</p></li>
<li><p><strong>colors</strong> – 图片主题颜色，默认即可</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>anchor</strong> – 图例在图中的位置，通常 0.95 左右，根据图片标题与图例之间的空隙自行调整即可</p></li>
<li><p><strong>max_len</strong> – 分箱显示的最大长度，防止分类变量分箱过多文本过长导致图像显示区域很小，默认最长 35 个字符</p></li>
<li><p><strong>fontdict</strong> – 柱状图上的文字内容格式设置，参考 <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.text.html">https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.text.html</a></p></li>
<li><p><strong>hatch</strong> – 柱状图是否显示斜杠，默认显示</p></li>
<li><p><strong>ending</strong> – 分箱图标题显示的后缀，标题格式为: f’{desc}{ending}’</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.corr_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">corr_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figure_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(16,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linewidths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.2f'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linecolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'white'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#corr_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征相关图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 原始数据</p></li>
<li><p><strong>figure_size</strong> – 图片大小，默认 (16, 8)</p></li>
<li><p><strong>fontsize</strong> – 字体大小，默认 16</p></li>
<li><p><strong>mask</strong> – 是否只显示下三角部分内容，默认 False</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>annot</strong> – 是否在图中显示相关性的数值，默认 True</p></li>
<li><p><strong>max_len</strong> – 特征显示的最大长度，防止特征名称过长导致图像区域非常小，默认 35，可以传 None 表示不限制</p></li>
<li><p><strong>fmt</strong> – 数值显示格式，当 annot 为 True 时该参数生效，默认显示两位小数点</p></li>
<li><p><strong>step</strong> – 色阶的步数，以 0 为中心，默认 2（以0为中心对称） * 5（划分五个色阶） + 1（0一档单独显示）= 11</p></li>
<li><p><strong>linewidths</strong> – 相关图之间的线条宽度，默认 0.1 ，如果设置为 None 则不现实线条</p></li>
<li><p><strong>linecolor</strong> – 线的颜色，当 linewidths 大于 0 时生效，默认为 white</p></li>
<li><p><strong>kwargs</strong> – sns.heatmap 函数其他参数，参考：<a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.heatmap.html">https://seaborn.pydata.org/generated/seaborn.heatmap.html</a></p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.ks_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">ks_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(16,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#2639E9',</span> <span class="pre">'#F76E6C',</span> <span class="pre">'#FE7715']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.945</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#ks_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>数值特征 KS曲线 &amp; ROC曲线</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score</strong> – 数值特征，通常为评分卡分数</p></li>
<li><p><strong>target</strong> – 标签值</p></li>
<li><p><strong>title</strong> – 图像标题</p></li>
<li><p><strong>fontsize</strong> – 字体大小，默认 14</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (16, 8)</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>colors</strong> – 图片主题颜色，默认即可</p></li>
<li><p><strong>anchor</strong> – 图例显示的位置，默认 0.945，根据实际显示情况进行调整即可，0.95 附近小范围调整</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.hist_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">hist_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['好样本',</span> <span class="pre">'坏样本']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kde</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#hist_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>数值特征分布图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score</strong> – 数值特征，通常为评分卡分数</p></li>
<li><p><strong>y_true</strong> – 标签值</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (15, 10)</p></li>
<li><p><strong>bins</strong> – 分箱数量大小，默认 30</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>labels</strong> – 字典或列表，图例显示的分类名称，默认 [“好样本”, “坏样本”]，按照目标变量顺序对应即可，从0开始</p></li>
<li><p><strong>anchor</strong> – 图例显示的位置，默认 1.1，根据实际显示情况进行调整即可，1.1 附近小范围调整</p></li>
<li><p><strong>fontsize</strong> – 字体大小，默认 14</p></li>
<li><p><strong>kwargs</strong> – sns.histplot 函数其他参数，参考：<a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.histplot.html">https://seaborn.pydata.org/generated/seaborn.histplot.html</a></p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.psi_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">psi_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expected</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['预期',</span> <span class="pre">'实际']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#2639E9',</span> <span class="pre">'#F76E6C',</span> <span class="pre">'#FE7715']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.94</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#psi_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征 PSI 图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expected</strong> – 期望分布情况，传入需要验证的特征分箱表</p></li>
<li><p><strong>actual</strong> – 实际分布情况，传入需要参照的特征分箱表</p></li>
<li><p><strong>labels</strong> – 期望分布和实际分布的名称，默认 [“预期”, “实际”]</p></li>
<li><p><strong>desc</strong> – 标题前缀显示的名称，默认为空，推荐传入特征名称或评分卡名字</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>colors</strong> – 图片主题颜色，默认即可</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (15, 8)</p></li>
<li><p><strong>anchor</strong> – 图例显示的位置，默认 0.94，根据实际显示情况进行调整即可，0.94 附近小范围调整</p></li>
<li><p><strong>width</strong> – 预期分布与实际分布柱状图之间的间隔，默认 0.35</p></li>
<li><p><strong>result</strong> – 是否返回 PSI 统计表，默认 False</p></li>
<li><p><strong>plot</strong> – 是否画 PSI图，默认 True</p></li>
<li><p><strong>max_len</strong> – 特征显示的最大长度，防止特征名称过长导致图像区域非常小，默认 None 表示不限制</p></li>
<li><p><strong>hatch</strong> – 是否显示柱状图上的斜线，默认为 True</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>当 result 为 True 时，返回 pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.csi_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">csi_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expected</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['预期',</span> <span class="pre">'实际']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#2639E9',</span> <span class="pre">'#F76E6C',</span> <span class="pre">'#FE7715']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.94</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#csi_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征 CSI 图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expected</strong> – 期望分布情况，传入需要验证的特征分箱表</p></li>
<li><p><strong>actual</strong> – 实际分布情况，传入需要参照的特征分箱表</p></li>
<li><p><strong>score_bins</strong> – 逻辑回归模型评分表</p></li>
<li><p><strong>labels</strong> – 期望分布和实际分布的名称，默认 [“预期”, “实际”]</p></li>
<li><p><strong>desc</strong> – 标题前缀显示的名称，默认为空，推荐传入特征名称或评分卡名字</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>colors</strong> – 图片主题颜色，默认即可</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (15, 8)</p></li>
<li><p><strong>anchor</strong> – 图例显示的位置，默认 0.94，根据实际显示情况进行调整即可，0.94 附近小范围调整</p></li>
<li><p><strong>width</strong> – 预期分布与实际分布柱状图之间的间隔，默认 0.35</p></li>
<li><p><strong>result</strong> – 是否返回 CSI 统计表，默认 False</p></li>
<li><p><strong>plot</strong> – 是否画 CSI图，默认 True</p></li>
<li><p><strong>max_len</strong> – 特征显示的最大长度，防止特征名称过长导致图像区域非常小，默认 None 表示不限制</p></li>
<li><p><strong>hatch</strong> – 是否显示柱状图上的斜线，默认为 True</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>当 result 为 True 时，返回 pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.dataframe_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">dataframe_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#2639E9'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#dae3f3',</span> <span class="pre">'w']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#dataframe_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>将 dataframe 转换为图片，推荐行和列都不多的数据集使用该方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – 需要画图的 dataframe 数据</p></li>
<li><p><strong>row_height</strong> – 行高，默认 0.4</p></li>
<li><p><strong>font_size</strong> – 字体大小，默认 14</p></li>
<li><p><strong>header_color</strong> – 标题颜色，默认 #2639E9</p></li>
<li><p><strong>row_colors</strong> – 行颜色，默认 [‘#dae3f3’, ‘w’]，交替使用两种颜色</p></li>
<li><p><strong>edge_color</strong> – 表格边框颜色，默认白色</p></li>
<li><p><strong>bbox</strong> – 边的显示情况，[左，右，上，下]，即仅显示上下两条边框</p></li>
<li><p><strong>header_columns</strong> – 标题行数，默认仅有一个标题行，即 0</p></li>
<li><p><strong>ax</strong> – 如果需要在某张画布的子图中显示，那么传入对应的 ax 即可</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>kwargs</strong> – plt.table 相关的参数，参考：<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.table.html">https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.table.html</a></p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.distribution_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">distribution_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'date'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(10,</span> <span class="pre">6)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#2639E9',</span> <span class="pre">'#F76E6C',</span> <span class="pre">'#FE7715']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'M'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.94</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#distribution_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>样本时间分布图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 数据集</p></li>
<li><p><strong>date</strong> – 日期列名称，如果格式非日期，会尝试自动转为日期格式，默认 date，替换为数据中对应的日期列（如申请时间、授信时间、放款时间等）</p></li>
<li><p><strong>target</strong> – 数据集中标签列的名称，默认 target</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (10, 6)</p></li>
<li><p><strong>colors</strong> – 图片主题颜色，默认即可</p></li>
<li><p><strong>freq</strong> – 汇总统计的日期格式，按年、季度、月、周、日等统计，参考：<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#dateoffset-objects">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#dateoffset-objects</a></p></li>
<li><p><strong>anchor</strong> – 图例显示的位置，默认 0.94，根据实际显示情况进行调整即可，0.94 附近小范围调整</p></li>
<li><p><strong>result</strong> – 是否返回分布表，默认 False</p></li>
<li><p><strong>hatch</strong> – 是否显示柱状图上的斜线，默认为 True</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">ExcelWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style_excel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style_sheet_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'初始化'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'replace'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'楷体'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2639E9'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.85</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mac'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style_excel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style_sheet_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'初始化'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'replace'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'楷体'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2639E9'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.85</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mac'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>excel 写入方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>style_excel</strong> – 样式模版文件，默认安装包路径下的 template.xlsx ，如果路径调整需要进行相应的调整</p></li>
<li><p><strong>style_sheet_name</strong> – 模版文件内初始样式sheet名称，默认即可</p></li>
<li><p><strong>mode</strong> – 写入模式，默认 replace，可选 replace、append，当选择 append 模式时会将已存在的excel中的内容复制到新的文件中</p></li>
<li><p><strong>fontsize</strong> – 插入excel文件中内容的字体大小，默认 10</p></li>
<li><p><strong>font</strong> – 插入excel文件中内容的字体，默认 楷体</p></li>
<li><p><strong>theme_color</strong> – 主题色，默认 2639E9，注意不包含 #</p></li>
<li><p><strong>system</strong> – excel报告适配的系统，默认 mac，可选 windows、linux，设置为 windows 时会重新适配 picture 的大小</p></li>
<li><p><strong>opacity</strong> – 写入dataframe时使用颜色填充主题色的透明度设置，默认 0.85</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.add_conditional_formatting">
<span class="sig-name descname"><span class="pre">add_conditional_formatting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_space</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_space</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.add_conditional_formatting"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>设置条件格式</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 当前选择设置条件格式的sheet</p></li>
<li><p><strong>start_space</strong> – 开始单元格位置</p></li>
<li><p><strong>end_space</strong> – 结束单元格位置</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.set_column_width">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_column_width</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.set_column_width"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>调整excel列宽</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 当前选择调整列宽的sheet</p></li>
<li><p><strong>column</strong> – 列，可以直接输入 index 或者 字母</p></li>
<li><p><strong>width</strong> – 设置列的宽度</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.set_number_format">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_number_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.set_number_format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>设置数值显示格式</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 当前选择调整数值显示格式的sheet</p></li>
<li><p><strong>space</strong> – 单元格范围</p></li>
<li><p><strong>_format</strong> – 显示格式，参考 openpyxl</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.get_sheet_by_name">
<span class="sig-name descname"><span class="pre">get_sheet_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.get_sheet_by_name"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>获取sheet名称为name的工作簿，如果不存在，则从初始模版文件中拷贝一个名称为name的sheet</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – 需要获取的工作簿名称</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.move_sheet">
<span class="sig-name descname"><span class="pre">move_sheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.move_sheet"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>移动 sheet 位置</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 需要移动的sheet，支持输入字符串和Worksheet</p></li>
<li><p><strong>offset</strong> – 需要移动的相对位置，默认 0，在传入 index 时参数不生效</p></li>
<li><p><strong>index</strong> – 需要移动到的位置索引，超出移动到最后</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.insert_value2sheet">
<span class="sig-name descname"><span class="pre">insert_value2sheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert_space</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'content'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.insert_value2sheet"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>向sheet中的某个单元格插入某种样式的内容</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 需要插入内容的sheet</p></li>
<li><p><strong>insert_space</strong> – 内容插入的单元格位置，可以是 “B2” 或者 (2, 2) 任意一种形式</p></li>
<li><p><strong>value</strong> – 需要插入的内容</p></li>
<li><p><strong>style</strong> – 渲染的样式，参考 init_style 中初始设置的样式</p></li>
<li><p><strong>end_space</strong> – 如果需要合并单元格，传入需要截止的单元格位置信息，可以是 “B2” 或者 (2, 2) 任意一种形式</p></li>
<li><p><strong>auto_width</strong> – 是否开启自动调整列宽</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回插入元素最后一列之后、最后一行之后的位置</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.insert_pic2sheet">
<span class="sig-name descname"><span class="pre">insert_pic2sheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert_space</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(600,</span> <span class="pre">250)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.insert_pic2sheet"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>向excel中插入图片内容</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 需要插入内容的sheet</p></li>
<li><p><strong>fig</strong> – 需要插入的图片路径</p></li>
<li><p><strong>insert_space</strong> – 插入图片的起始单元格</p></li>
<li><p><strong>figsize</strong> – 图片大小设置</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回插入元素最后一列之后、最后一行之后的位置</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.insert_rows">
<span class="sig-name descname"><span class="pre">insert_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.insert_rows"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>向excel中插入一行数据，insert_df2sheet 依赖本方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 需要插入内容的sheet</p></li>
<li><p><strong>row</strong> – 数据内容</p></li>
<li><p><strong>row_index</strong> – 插入数据的行索引，用来判断使用哪种边框样式</p></li>
<li><p><strong>col_index</strong> – 插入数据的列索引，用来判断使用哪种边框样式</p></li>
<li><p><strong>merge_rows</strong> – 需要合并单元的行索引</p></li>
<li><p><strong>style</strong> – 插入数据的excel风格</p></li>
<li><p><strong>auto_width</strong> – 是否自动调整列宽，自动调整列宽会导致该列样式模版发生变化，非内容列默认填充的白色失效</p></li>
<li><p><strong>style_only</strong> – 是否使用填充样式</p></li>
<li><p><strong>multi_levels</strong> – 是否多层索引或多层级列</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.insert_df2sheet">
<span class="sig-name descname"><span class="pre">insert_df2sheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert_space</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.insert_df2sheet"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>向excel文件中插入指定样式的dataframe数据</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 需要插入内容的sheet</p></li>
<li><p><strong>data</strong> – 需要插入的dataframe</p></li>
<li><p><strong>insert_space</strong> – 插入内容的起始单元格位置</p></li>
<li><p><strong>merge_column</strong> – 需要分组显示的列，index或者列名，需要提前排好序，从 0.1.33 开始 ExcleWriter 不会自动处理顺序</p></li>
<li><p><strong>header</strong> – 是否存储dataframe的header，暂不支持多级表头，从 0.1.30 开始支持多层表头和多层索引</p></li>
<li><p><strong>index</strong> – 是否存储dataframe的index</p></li>
<li><p><strong>merge_index</strong> – 当存储dataframe的index时，index中同一层级连续相同值是否合并，默认 True，即合并</p></li>
<li><p><strong>auto_width</strong> – 是否自动调整列宽，自动调整列宽会导致该列样式模版发生变化，非内容列默认填充的白色失效</p></li>
<li><p><strong>fill</strong> – 是否使用颜色填充而非边框，当 fill 为 True 时，merge_column 失效</p></li>
<li><p><strong>merge</strong> – 是否合并单元格，配合 merge_column 一起使用，当前版本仅在 merge_column 只有一列时有效</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回插入元素最后一列之后、最后一行之后的位置</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.merge_cells">
<span class="sig-name descname"><span class="pre">merge_cells</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.merge_cells"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>合并同一列单元格并保证样式相应合并</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 需要合并单元格的sheet</p></li>
<li><p><strong>start</strong> – 合并单元格开始的位置</p></li>
<li><p><strong>end</strong> – 合并单元格结束的位置</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.check_contain_chinese">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">check_contain_chinese</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">check_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.check_contain_chinese"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>检查字符串中是否包含中文</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>check_str</strong> – 需要检查的字符串</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回每个字符是否是中文 list&lt;bool&gt;，英文字符个数，中文字符个数</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.astype_insertvalue">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">astype_insertvalue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_point</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.astype_insertvalue"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>格式化需要存储excel的内容，如果是浮点型，按照设置的精度进行保存，如果是类别型或其他特殊类型，转字符串存储，如果非以上两种，直接原始值存储</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – 需要插入 excel 的内容</p></li>
<li><p><strong>decimal_point</strong> – 如果是浮点型，需要保留的精度，默认小数点后4位数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>格式化后存入excel的内容</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.calc_continuous_cnt">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_continuous_cnt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.calc_continuous_cnt"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据传入的 list ，计算 list 中某个 index 开始，连续出现该元素的个数</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> – 需要检索的 list</p></li>
<li><p><strong>index</strong> – 元素索引</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>元素值，索引值，连续出现的个数</p>
</dd>
</dl>
<p><strong>参考样例</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_continuous_cnt</span> <span class="o">=</span> <span class="n">ExcelWriter</span><span class="o">.</span><span class="n">calc_continuous_cnt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_continuous_cnt</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">(&#39;A&#39;, 0, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_continuous_cnt</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">(&#39;B&#39;, 4, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_continuous_cnt</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="go">(&#39;C&#39;, 6, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.itlubber_border">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">itlubber_border</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">border</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">white</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.itlubber_border"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>itlubber 的边框样式生成器</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>border</strong> – 边框样式，如果输入长度为 3，则生成 [左，右，下]，如果长度为4，则生成 [左，右，下，上]</p></li>
<li><p><strong>color</strong> – 边框颜色</p></li>
<li><p><strong>white</strong> – 是否显示白色边框</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Border</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.get_cell_space">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_cell_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">space</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.get_cell_space"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据传入的不同格式的位置，转换为另一种形式的excel单元格定位</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>space</strong> – 传入的excel单元格定位，支持两种格式，B1 或 (2, 2)</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回单元格定位，tuple / str</p>
</dd>
</dl>
<p><strong>参考样例</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_cell_space</span> <span class="o">=</span> <span class="n">ExcelWriter</span><span class="o">.</span><span class="n">get_cell_space</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_cell_space</span><span class="p">(</span><span class="s2">&quot;B3&quot;</span><span class="p">)</span>
<span class="go">(2, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_cell_space</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">&#39;B2&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.calculate_rgba_color">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_rgba_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hex_color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.calculate_rgba_color"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据某个颜色计算某个透明度对应的颜色</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hex_color</strong> – hex格式的颜色值</p></li>
<li><p><strong>opacity</strong> – 透明度，[0, 1] 之间的数值</p></li>
<li><p><strong>prefix</strong> – 返回颜色的前缀</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>对应某个透明度的颜色</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.init_style">
<span class="sig-name descname"><span class="pre">init_style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">font</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_color</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.init_style"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>初始化单元格样式</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>font</strong> – 字体名称</p></li>
<li><p><strong>fontsize</strong> – 字体大小</p></li>
<li><p><strong>theme_color</strong> – 主题颜色</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.ExcelWriter.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.save"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>保存excel文件</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – 需要保存 excel 文件的路径</p></li>
<li><p><strong>close</strong> – 是否需要释放 writer</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.dataframe2excel">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">dataframe2excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excel_writer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2639E9'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#,##0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_row</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'replace'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(600,</span> <span class="pre">350)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#dataframe2excel"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>向excel文件中插入指定样式的dataframe数据</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要保存的dataframe数据，index默认不保存，如果需要保存先 .reset_index().rename(columns={“index”: “索引名称”}) 再保存，有部分索引 reset_index 之后是 0 而非 index，根据实际情况进行修改</p></li>
<li><p><strong>excel_writer</strong> – 需要保存到的 excel 文件路径或者 ExcelWriter</p></li>
<li><p><strong>sheet_name</strong> – 需要插入内容的sheet，如果是 Worksheet，则直接向 Worksheet 插入数据</p></li>
<li><p><strong>title</strong> – 是否在dataframe之前的位置插入一个标题</p></li>
<li><p><strong>figures</strong> – 需要数据表与标题之间插入的图片，支持一次性传入多张图片的路径，会根据传入顺序依次插入</p></li>
<li><p><strong>figsize</strong> – 插入图像的大小，为了统一排版，目前仅支持设置一个图片大小，默认: (600, 350) (长度, 高度)</p></li>
<li><p><strong>header</strong> – 是否存储dataframe的header，暂不支持多级表头</p></li>
<li><p><strong>theme_color</strong> – 主题色</p></li>
<li><p><strong>fill</strong> – 是否使用单元个颜色填充样式还是使用边框样式</p></li>
<li><p><strong>percent_cols</strong> – 需要显示为百分数的列，仅修改显示格式，不更改数值</p></li>
<li><p><strong>condition_cols</strong> – 需要显示条件格式的列（无边框渐变数据条）</p></li>
<li><p><strong>color_cols</strong> – 需要显示为条件格式颜色填充的列（单元格填充渐变色）</p></li>
<li><p><strong>custom_cols</strong> – 需要显示自定义格式的列，与 custom_format 参数搭配使用</p></li>
<li><p><strong>custom_format</strong> – 显示的自定义格式，与 custom_cols 参数搭配使用，默认 #,##0 ，即显示为有分隔符的整数</p></li>
<li><p><strong>start_col</strong> – 在excel中的开始列数，默认 2，即第二列开始</p></li>
<li><p><strong>start_row</strong> – 在excel中的开始行数，默认 2，即第二行开始，如果 title 有值的话，会从 start_row + 2 行开始插入dataframe数据</p></li>
<li><p><strong>mode</strong> – excel写入的模式，可选 append 和 replace ，默认 replace ，选择 append 时会在已有的excel文件中增加内容，不覆盖原有内容</p></li>
<li><p><strong>writer_params</strong> – 透传至 ExcelWriter 内的参数</p></li>
<li><p><strong>**kwargs</strong> – <p>其他参数，透传至 insert_df2sheet 方法，例如 传入 auto_width=True 会根据内容自动调整列宽</p>
</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回插入元素最后一列之后、最后一行之后的位置</p>
</dd>
</dl>
<p><strong>参考样例</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">writer</span> <span class="o">=</span> <span class="n">ExcelWriter</span><span class="p">(</span><span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">worksheet</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">get_sheet_by_name</span><span class="p">(</span><span class="s2">&quot;模型报告&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_value2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;header&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_value2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;header&quot;</span><span class="p">,</span> <span class="n">end_space</span><span class="o">=</span><span class="s2">&quot;D4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_value2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;当前模型主要为评分卡模型&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;header_middle&quot;</span><span class="p">,</span> <span class="n">auto_width</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 单层索引保存样例</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_sample</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="o">*</span> <span class="mi">40</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">))],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;B</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)),</span> <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)),</span> <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)),</span> <span class="n">merge_column</span><span class="o">=</span><span class="s2">&quot;target&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)),</span> <span class="n">merge_column</span><span class="o">=</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)),</span> <span class="n">merge_column</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)),</span> <span class="n">merge_column</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">percent_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">],</span> <span class="n">condition_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B9&quot;</span><span class="p">],</span> <span class="n">color_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">percent_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">],</span> <span class="n">condition_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B9&quot;</span><span class="p">],</span> <span class="n">color_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">percent_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">],</span> <span class="n">condition_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B9&quot;</span><span class="p">],</span> <span class="n">color_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">figures</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;../examples/model_report/auto_report_corr_plot.png&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 多层索引保存样例</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi_sample</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">)),</span> <span class="n">columns</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([[</span><span class="s1">&#39;模拟考&#39;</span><span class="p">,</span> <span class="s1">&#39;正式考&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;数学&#39;</span><span class="p">,</span> <span class="s1">&#39;语文&#39;</span><span class="p">,</span> <span class="s1">&#39;英语&#39;</span><span class="p">,</span> <span class="s1">&#39;物理&#39;</span><span class="p">,</span> <span class="s1">&#39;化学&#39;</span><span class="p">,</span> <span class="s1">&#39;生物&#39;</span><span class="p">]]),</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([[</span><span class="s1">&#39;期中&#39;</span><span class="p">,</span> <span class="s1">&#39;期末&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;雷军&#39;</span><span class="p">,</span> <span class="s1">&#39;李斌&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;测试一&#39;</span><span class="p">,</span> <span class="s1">&#39;测试二&#39;</span><span class="p">]]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi_sample</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;考试类型&quot;</span><span class="p">,</span> <span class="s2">&quot;姓名&quot;</span><span class="p">,</span> <span class="s2">&quot;测试&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">multi_sample</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">multi_sample</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">multi_sample</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">multi_sample</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="n">multi_sample</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span><span class="p">,</span> <span class="n">col_level</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">merge_column</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;考试类型&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;姓名&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">multi_sample</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="n">multi_sample</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span><span class="p">,</span> <span class="n">col_level</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">merge_column</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;考试类型&#39;</span><span class="p">)],</span> <span class="n">merge</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">multi_sample</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="n">multi_sample</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span><span class="p">,</span> <span class="n">col_level</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">merge_column</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;考试类型&#39;</span><span class="p">)],</span> <span class="n">merge</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">writer</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;测试样例.xlsx&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.auto_eda_sweetviz">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">auto_eda_sweetviz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'model_report/auto_eda.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairwise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/auto_eda.html#auto_eda_sweetviz"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>对数据量和特征个数较少的数据集进行自动 EDA 产出分析报告文档</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>all_data</strong> – 需要 EDA 的数据集</p></li>
<li><p><strong>target</strong> – 目标变量，仅支持整数型或布尔型的目标变量</p></li>
<li><p><strong>labels</strong> – 当传入 target 时为需要对比的数据集名称 [true, false]，当不传入 target 时为数据集名字</p></li>
<li><p><strong>save</strong> – 报告存储路径，后缀使用 .html</p></li>
<li><p><strong>pairwise</strong> – 是否需要显示特征之间的分布情况</p></li>
<li><p><strong>exclude</strong> – 需要排除的特征名称</p></li>
<li><p><strong>num_features</strong> – 需要强制转为数值型的特征名称</p></li>
<li><p><strong>cat_features</strong> – 需要强制转为类别型的特征名称</p></li>
<li><p><strong>text_features</strong> – 需要强制转为文本的特征名称</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.auto_data_testing_report">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.</span></span><span class="sig-name descname"><span class="pre">auto_data_testing_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_summary_comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'M'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excel_writer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'分析报告'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_row</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pictures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['bin',</span> <span class="pre">'ks',</span> <span class="pre">'hist']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/auto_report.html#auto_data_testing_report"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>自动数据测试报告，用于三方数据评估或自有评分效果评估</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>suffix</strong> – 用于避免未保存excel时，同名图片被覆盖的图片后缀名称</p></li>
<li><p><strong>corr</strong> – 是否需要评估数值类变量之间的相关性，默认为 False，设置为 True 后会输出变量相关性图和表</p></li>
<li><p><strong>pictures</strong> – 需要包含的图片，支持 [“ks”, “hist”, “bin”]</p></li>
<li><p><strong>data</strong> – 需要评估的数据集，需要包含目标变量</p></li>
<li><p><strong>features</strong> – 需要进行分析的特征名称，支持单个字符串传入或列表传入</p></li>
<li><p><strong>target</strong> – 目标变量名称</p></li>
<li><p><strong>date</strong> – 日期列，通常为借款人申请日期或放款日期，可选字段，传入的情况下，结合字段 freq 参数输出不同时间粒度下的好坏客户分布情况</p></li>
<li><p><strong>freq</strong> – 结合 date 日期使用，输出需要统计的粒度，默认 M，即按月统计</p></li>
<li><p><strong>data_summary_comment</strong> – 数据样本概况中需要填入的备注信息，例如 “去除了历史最大逾期天数[0, dpd]内的灰客户” 等</p></li>
<li><p><strong>excel_writer</strong> – 需要保存的excel文件名称或写入器</p></li>
<li><p><strong>sheet</strong> – 需要保存的 sheet 名称，可传入已有的 worksheet 或 文字信息</p></li>
<li><p><strong>start_col</strong> – 开始列</p></li>
<li><p><strong>start_row</strong> – 开始行</p></li>
<li><p><strong>writer_params</strong> – excel写入器初始化参数，仅在 excel_writer 为字符串时有效</p></li>
<li><p><strong>bin_params</strong> – 统计分箱的参数，支持 <cite>feature_bin_stats</cite> 方法的参数</p></li>
<li><p><strong>feature_map</strong> – 特征字典，增加文档可读性使用，默认 {}</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-scorecardpipeline.processing">
<span id="scorecardpipeline-processing"></span><h1>scorecardpipeline.processing</h1>
<p>&#64;Time    : 2023/05/21 16:23
&#64;Author  : itlubber
&#64;Site    : itlubber.art</p>
<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.processing.drop_identical">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.processing.</span></span><span class="sig-name descname"><span class="pre">drop_identical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#drop_identical"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>剔除数据集中单一值占比过高的特征</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame</strong> – 需要进行特征单一值占比过高筛选的数据集</p></li>
<li><p><strong>threshold</strong> – 单一值占比阈值，超过阈值剔除特征</p></li>
<li><p><strong>return_drop</strong> – 是否返回特征剔除信息，默认 False</p></li>
<li><p><strong>exclude</strong> – 是否排除某些特征，不进行单一值占比筛选，默认为 None</p></li>
<li><p><strong>target</strong> – 数据集中的目标变量列名，默认为 None，即数据集中不包含 target</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>筛选后的数据集: pd.DataFrame，剔除单一值占比过高特征的数据集</p></li>
<li><p>剔除的特征: list / np.ndarray，当 return_drop 设置为 True 时，返回被剔除的单一值占比过高的特征列表</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.processing.drop_corr">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.processing.</span></span><span class="sig-name descname"><span class="pre">drop_corr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#drop_corr"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>剔除数据集中特征相关性过高的特征</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame</strong> – 需要进行特征相关性过高筛选的数据集</p></li>
<li><p><strong>target</strong> – 数据集中的目标变量列名，默认为 None</p></li>
<li><p><strong>threshold</strong> – 相关性阈值，超过阈值剔除特征</p></li>
<li><p><strong>by</strong> – 剔除指标的依据，两个特征相关性超过阈值时，保留指标更大的特征，默认根据 IV 进行判断</p></li>
<li><p><strong>return_drop</strong> – 是否返回特征剔除信息，默认 False</p></li>
<li><p><strong>exclude</strong> – 是否排除某些特征，不进行单一值占比筛选，默认为 None</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>筛选后的数据集: pd.DataFrame，剔除特征相关性过高的数据集</p></li>
<li><p>剔除的特征: list，当 return_drop 设置为 True 时，返回被剔除的相关性过高的特征列表</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.processing.select">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.processing.</span></span><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#select"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据缺失率、IV指标、相关性、单一值占比等进行特征筛选，返回特征剔除后的数据集和剔除的特征信息</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame</strong> – 需要进行特征筛选的数据集</p></li>
<li><p><strong>target</strong> – 数据集中的目标变量列名，默认为 target</p></li>
<li><p><strong>empty</strong> – 缺失率阈值，超过阈值剔除特征</p></li>
<li><p><strong>iv</strong> – IV 阈值，低于阈值剔除特征</p></li>
<li><p><strong>corr</strong> – 相关性阈值，超过阈值剔除 IV 较小的特征</p></li>
<li><p><strong>identical</strong> – 单一值占比阈值，超过阈值剔除特征</p></li>
<li><p><strong>return_drop</strong> – 是否返回剔除特征信息，默认 False</p></li>
<li><p><strong>exclude</strong> – 是否排除某些特征，不进行特征筛选，默认为 None</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>筛选后的数据集: pd.DataFrame，特征筛选后的数据集</p></li>
<li><p>剔除的特征信息: dict，当 return_drop 设置为 True 时，返回被剔除特征信息</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.processing.FeatureSelection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.processing.</span></span><span class="sig-name descname"><span class="pre">FeatureSelection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scorecardpy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_rm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureSelection"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.FeatureSelection.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'scorecardpy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_rm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureSelection.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征筛选方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>empty</strong> – 空值率，默认 0.95, 即空值占比超过 95% 的特征会被剔除</p></li>
<li><p><strong>iv</strong> – IV值，默认 0.02，即iv值小于 0.02 时特征会被剔除</p></li>
<li><p><strong>corr</strong> – 相关性，默认 0.7，即特征之间相关性大于 0.7 时会剔除iv较小的特征</p></li>
<li><p><strong>identical</strong> – 单一值占比，默认 0.95，即当特征的某个值占比超过 95% 时，特征会被剔除</p></li>
<li><p><strong>exclude</strong> – 是否需要强制保留某些特征</p></li>
<li><p><strong>return_drop</strong> – 是否返回删除信息，默认 True，即默认返回删除特征信息</p></li>
<li><p><strong>remove</strong> – 引擎使用 scorecardpy 时，可以传入需要强制删除的变量</p></li>
<li><p><strong>engine</strong> – 特征筛选使用的引擎，可选 “toad”, “scorecardpy” 两种，默认 scorecardpy</p></li>
<li><p><strong>target_rm</strong> – 是否剔除标签，默认 False，即不剔除</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.FeatureSelection.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureSelection.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>训练特征筛选方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 数据集，需要包含目标变量</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>训练后的 FeatureSelection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.FeatureSelection.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureSelection.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征筛选转换器</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要进行特征筛选的数据集</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，特征筛选后的数据集</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.processing.StepwiseSelection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.processing.</span></span><span class="sig-name descname"><span class="pre">StepwiseSelection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">estimator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ols'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criterion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'aic'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_value_enter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_enter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_rm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#StepwiseSelection"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.StepwiseSelection.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">estimator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ols'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criterion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'aic'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_value_enter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_remove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_enter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_rm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#StepwiseSelection.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>逐步回归特征筛选方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>estimator</strong> – 预估器，默认 ols，可选 “ols”, “lr”, “lasso”, “ridge”，通常默认即可</p></li>
<li><p><strong>direction</strong> – 逐步回归方向，默认both，可选 “forward”, “backward”, “both”，通常默认即可</p></li>
<li><p><strong>criterion</strong> – 评价指标，默认 aic，可选 “aic”, “bic”, “ks”, “auc”，通常默认即可</p></li>
<li><p><strong>max_iter</strong> – 最大迭代次数，sklearn中使用的参数，默认为 None</p></li>
<li><p><strong>return_drop</strong> – 是否返回特征剔除信息，默认 True</p></li>
<li><p><strong>exclude</strong> – 强制保留的某些特征</p></li>
<li><p><strong>intercept</strong> – 是否包含截距，默认为 True</p></li>
<li><p><strong>p_value_enter</strong> – 特征进入的 p 值，用于前向筛选时决定特征是否进入模型</p></li>
<li><p><strong>p_remove</strong> – 特征剔除的 p 值，用于后向剔除时决定特征是否要剔除</p></li>
<li><p><strong>p_enter</strong> – 特征 p 值，用于判断双向逐步回归是否剔除或者准入特征</p></li>
<li><p><strong>target_rm</strong> – 是否剔除数据集中的标签，默认为 False，即剔除数据集中的标签</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.StepwiseSelection.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#StepwiseSelection.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>训练逐步回归特征筛选方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 数据集，需要包含目标变量</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>训练后的 StepwiseSelection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.StepwiseSelection.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#StepwiseSelection.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>逐步回归特征筛选转换器</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要进行特征筛选的数据集</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，特征筛选后的数据集</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.processing.FeatureImportanceSelector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.processing.</span></span><span class="sig-name descname"><span class="pre">FeatureImportanceSelector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">top_k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">126</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'catboost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureImportanceSelector"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.FeatureImportanceSelector.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">top_k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">126</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'catboost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureImportanceSelector.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基于特征重要性的特征筛选方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>top_k</strong> – 依据特征重要性进行排序，筛选最重要的 top_k 个特征</p></li>
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>selector</strong> – 特征选择器，目前只支持 catboost ，可以支持数据集中包含字符串的数据</p></li>
<li><p><strong>params</strong> – selector 的参数，不传使用默认参数</p></li>
<li><p><strong>max_iv</strong> – 是否需要删除 IV 过高的特征，建议设置为 1.0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.FeatureImportanceSelector.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureImportanceSelector.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征重要性筛选器训练</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 数据集，需要包含目标变量</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>训练后的 FeatureImportanceSelector</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.FeatureImportanceSelector.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureImportanceSelector.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征重要性筛选器转换方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要进行特征筛选的数据集</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，特征筛选后的数据集</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.FeatureImportanceSelector.catboost_selector">
<span class="sig-name descname"><span class="pre">catboost_selector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#FeatureImportanceSelector.catboost_selector"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基于 <cite>CatBoost</cite> 的特征重要性筛选器</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – 需要进行特征重要性筛选的数据集，不包含目标变量</p></li>
<li><p><strong>y</strong> – 数据集中对应的目标变量值</p></li>
<li><p><strong>cat_features</strong> – 类别型特征的索引</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.processing.</span></span><span class="sig-name descname"><span class="pre">Combiner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'chi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_separate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_prebins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_prebin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monotonic_trend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto_asc_desc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adj_rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'chi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_separate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_prebins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_prebin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monotonic_trend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto_asc_desc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adj_rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱封装方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>method</strong> – 特征分箱方法，可选 “chi”, “dt”, “quantile”, “step”, “kmeans”, “cart”, “mdlp”, “uniform”, 参考 toad.Combiner: <a class="reference external" href="https://github.com/amphibian-dev/toad/blob/master/toad/transform.py#L178-L355">https://github.com/amphibian-dev/toad/blob/master/toad/transform.py#L178-L355</a> &amp; optbinning.OptimalBinning: <a class="reference external" href="https://gnpalencia.org/optbinning/">https://gnpalencia.org/optbinning/</a></p></li>
<li><p><strong>empty_separate</strong> – 是否空值单独一箱, 默认 True</p></li>
<li><p><strong>min_n_bins</strong> – 最小分箱数，默认 2，即最小拆分2箱</p></li>
<li><p><strong>max_n_bins</strong> – 最大分箱数，默认 None，即不限制拆分箱数，推荐设置 3 ～ 5，不宜过多，偶尔使用 optbinning 时不起效</p></li>
<li><p><strong>max_n_prebins</strong> – 使用 optbinning 时预分箱数量</p></li>
<li><p><strong>min_prebin_size</strong> – 使用 optbinning 时预分箱叶子结点（或者每箱）样本占比，默认 2%</p></li>
<li><p><strong>min_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最小样本占比，默认 5%</p></li>
<li><p><strong>max_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最大样本占比，默认 None</p></li>
<li><p><strong>gamma</strong> – 使用 optbinning 分箱时限制过拟合的正则化参数，值越大惩罚越多，默认 0.01</p></li>
<li><p><strong>monotonic_trend</strong> – 使用 optbinning 正式分箱时的坏率策略，默认 auto，可选 “auto”, “auto_heuristic”, “auto_asc_desc”, “ascending”, “descending”, “convex”, “concave”, “peak”, “valley”, “peak_heuristic”, “valley_heuristic”</p></li>
<li><p><strong>adj_rules</strong> – 自定义分箱规则，toad.Combiner 能够接收的形式</p></li>
<li><p><strong>n_jobs</strong> – 使用多进程加速的worker数量，默认单进程</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.update"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>更新 Combiner 中特征的分箱规则</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rules</strong> – dict，需要更新规则，格式如下：{特征名称: 分箱规则}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.optbinning_bins">
<span class="sig-name descname"><span class="pre">optbinning_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_prebins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_prebin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monotonic_trend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto_asc_desc'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.optbinning_bins"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基于 optbinning.OptimalBinning 的特征分箱方法，使用 optbinning.OptimalBinning 分箱失败时，使用 toad.transform.Combiner 的卡方分箱处理</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature</strong> – 需要进行分箱的特征名称</p></li>
<li><p><strong>data</strong> – 训练数据集</p></li>
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>min_n_bins</strong> – 最小分箱数，默认 2，即最小拆分2箱</p></li>
<li><p><strong>max_n_bins</strong> – 最大分箱数，默认 None，即不限制拆分箱数，推荐设置 3 ～ 5，不宜过多，偶尔不起效</p></li>
<li><p><strong>max_n_prebins</strong> – 使用 optbinning 时预分箱数量</p></li>
<li><p><strong>min_prebin_size</strong> – 使用 optbinning 时预分箱叶子结点（或者每箱）样本占比，默认 2%</p></li>
<li><p><strong>min_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最小样本占比，默认 5%</p></li>
<li><p><strong>max_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最大样本占比，默认 None</p></li>
<li><p><strong>gamma</strong> – 使用 optbinning 分箱时限制过拟合的正则化参数，值越大惩罚越多，默认 0.01</p></li>
<li><p><strong>monotonic_trend</strong> – 使用 optbinning 正式分箱时的坏率策略，默认 auto，可选 “auto”, “auto_heuristic”, “auto_asc_desc”, “ascending”, “descending”, “convex”, “concave”, “peak”, “valley”, “peak_heuristic”, “valley_heuristic”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱训练</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要分箱的数据集，需要包含目标变量</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Combiner，训练完成的分箱器</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.check_rules">
<span class="sig-name descname"><span class="pre">check_rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.check_rules"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>检查类别变量空值是否被转为字符串，如果转为了字符串，强制转回空值，同时检查分箱顺序并调整为正确顺序</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱转换方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – 需要进行分箱转换的数据集</p></li>
<li><p><strong>labels</strong> – 进行分箱转换时是否转换为分箱信息，默认 False，即转换为分箱索引</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，分箱转换后的数据集</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.export"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱器导出 json 保存</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>to_json</strong> – json 文件的路径</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>dict，特征分箱信息</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_json</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.load"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱器加载离线保存的 json 文件</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>from_json</strong> – json 文件的路径</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Combiner，特征分箱器</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.feature_bin_stats">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">feature_bin_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'step'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">greater_is_better</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_separate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.feature_bin_stats"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱统计表，汇总统计特征每个分箱的各项指标信息</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看分箱统计表的数据集</p></li>
<li><p><strong>feature</strong> – 需要查看的分箱统计表的特征名称</p></li>
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>rules</strong> – 根据自定义的规则查看特征分箱统计表，支持 list（单个特征分箱规则） 或 dict（多个特征分箱规则） 格式传入</p></li>
<li><p><strong>combiner</strong> – 提前训练好的特征分箱器，优先级小于 rules</p></li>
<li><p><strong>method</strong> – 特征分箱方法，当传入 rules 或 combiner 时失效，可选 “chi”, “dt”, “quantile”, “step”, “kmeans”, “cart”, “mdlp”, “uniform”, 参考 toad.Combiner: <a class="reference external" href="https://github.com/amphibian-dev/toad/blob/master/toad/transform.py#L178-L355">https://github.com/amphibian-dev/toad/blob/master/toad/transform.py#L178-L355</a> &amp; optbinning.OptimalBinning: <a class="reference external" href="https://gnpalencia.org/optbinning/">https://gnpalencia.org/optbinning/</a></p></li>
<li><p><strong>desc</strong> – 特征描述信息，大部分时候用于传入特征对应的中文名称或者释义</p></li>
<li><p><strong>ks</strong> – 是否统计 KS 信息</p></li>
<li><p><strong>max_n_bins</strong> – 最大分箱数，默认 None，即不限制拆分箱数，推荐设置 3 ～ 5，不宜过多，偶尔使用 optbinning 时不起效</p></li>
<li><p><strong>min_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最小样本占比，默认 5%</p></li>
<li><p><strong>max_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最大样本占比，默认 None</p></li>
<li><p><strong>empty_separate</strong> – 是否空值单独一箱, 默认 False，推荐设置为 True</p></li>
<li><p><strong>return_cols</strong> – list，指定返回部分特征分箱统计表的列，默认 None</p></li>
<li><p><strong>return_rules</strong> – 是否返回特征分箱信息，默认 False</p></li>
<li><p><strong>greater_is_better</strong> – 是否越大越好，默认 “”auto”, 根据最后两箱的 lift 指标自动推断是否越大越好, 可选 True、False、auto</p></li>
<li><p><strong>kwargs</strong> – scorecardpipeline.processing.Combiner 的其他参数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>特征分箱统计表: pd.DataFrame</p></li>
<li><p>特征分箱信息: list，当参数 return_rules 为 True 时返回</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.bin_plot">
<span class="sig-name descname"><span class="pre">bin_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rule</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.bin_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征分箱图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看分箱图的数据集</p></li>
<li><p><strong>x</strong> – 需要查看的分箱图的特征名称</p></li>
<li><p><strong>rule</strong> – 自定义的特征分箱规则，不会修改已训练好的特征分箱信息</p></li>
<li><p><strong>desc</strong> – 特征描述信息，大部分时候用于传入特征对应的中文名称或者释义</p></li>
<li><p><strong>result</strong> – 是否返回特征分箱统计表，默认 False</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>kwargs</strong> – scorecardpipeline.utils.bin_plot 方法其他的参数，参考：<a class="reference external" href="http://localhost:63342/scorecardpipeline/docs/build/html/scorecardpipeline.html#scorecardpipeline.utils.bin_plot">http://localhost:63342/scorecardpipeline/docs/build/html/scorecardpipeline.html#scorecardpipeline.utils.bin_plot</a></p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，特征分箱统计表，当 result 参数为 True 时返回</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.proportion_plot">
<span class="sig-name descname"><span class="pre">proportion_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.proportion_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>数据集中特征的分布情况</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看样本分布的数据集</p></li>
<li><p><strong>x</strong> – 需要查看样本分布的特征名称</p></li>
<li><p><strong>transform</strong> – 是否进行分箱转换，默认 False，当特征为数值型变量时推荐转换分箱后在查看数据分布</p></li>
<li><p><strong>labels</strong> – 进行分箱转换时是否转换为分箱信息，默认 False，即转换为分箱索引</p></li>
<li><p><strong>keys</strong> – 根据某个 key 划分数据集查看数据分布情况，默认 None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.corr_plot">
<span class="sig-name descname"><span class="pre">corr_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figure_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(20,</span> <span class="pre">15)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.corr_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征相关图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看特征相关性的数据集</p></li>
<li><p><strong>transform</strong> – 是否进行分箱转换，默认 False</p></li>
<li><p><strong>figure_size</strong> – 图像大小，默认 (20, 15)</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.badrate_plot">
<span class="sig-name descname"><span class="pre">badrate_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#Combiner.badrate_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>查看不同时间段的分箱是否平稳，线敞口随时间变化而增大为优，代表了特征在更新的时间区分度更强。线之前没有交叉为优，代表分箱稳定</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看分箱平稳情况的数据集，需包含时间列</p></li>
<li><p><strong>feature</strong> – 需要查看分箱平稳性的特征名称</p></li>
<li><p><strong>date_column</strong> – 数据集中的日期列名称</p></li>
<li><p><strong>labels</strong> – 进行分箱转换时是否转换为分箱信息，默认 True，即转换为分箱</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="scorecardpipeline.processing.Combiner.rules">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rules</span></span></dt>
<dd><p>dict，特征分箱明细信息</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.processing.feature_bin_stats">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.processing.</span></span><span class="sig-name descname"><span class="pre">feature_bin_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'step'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">greater_is_better</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">empty_separate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>特征分箱统计表，汇总统计特征每个分箱的各项指标信息</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看分箱统计表的数据集</p></li>
<li><p><strong>feature</strong> – 需要查看的分箱统计表的特征名称</p></li>
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>rules</strong> – 根据自定义的规则查看特征分箱统计表，支持 list（单个特征分箱规则） 或 dict（多个特征分箱规则） 格式传入</p></li>
<li><p><strong>combiner</strong> – 提前训练好的特征分箱器，优先级小于 rules</p></li>
<li><p><strong>method</strong> – 特征分箱方法，当传入 rules 或 combiner 时失效，可选 “chi”, “dt”, “quantile”, “step”, “kmeans”, “cart”, “mdlp”, “uniform”, 参考 toad.Combiner: <a class="reference external" href="https://github.com/amphibian-dev/toad/blob/master/toad/transform.py#L178-L355">https://github.com/amphibian-dev/toad/blob/master/toad/transform.py#L178-L355</a> &amp; optbinning.OptimalBinning: <a class="reference external" href="https://gnpalencia.org/optbinning/">https://gnpalencia.org/optbinning/</a></p></li>
<li><p><strong>desc</strong> – 特征描述信息，大部分时候用于传入特征对应的中文名称或者释义</p></li>
<li><p><strong>ks</strong> – 是否统计 KS 信息</p></li>
<li><p><strong>max_n_bins</strong> – 最大分箱数，默认 None，即不限制拆分箱数，推荐设置 3 ～ 5，不宜过多，偶尔使用 optbinning 时不起效</p></li>
<li><p><strong>min_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最小样本占比，默认 5%</p></li>
<li><p><strong>max_bin_size</strong> – 使用 optbinning 正式分箱叶子结点（或者每箱）最大样本占比，默认 None</p></li>
<li><p><strong>empty_separate</strong> – 是否空值单独一箱, 默认 False，推荐设置为 True</p></li>
<li><p><strong>return_cols</strong> – list，指定返回部分特征分箱统计表的列，默认 None</p></li>
<li><p><strong>return_rules</strong> – 是否返回特征分箱信息，默认 False</p></li>
<li><p><strong>greater_is_better</strong> – 是否越大越好，默认 “”auto”, 根据最后两箱的 lift 指标自动推断是否越大越好, 可选 True、False、auto</p></li>
<li><p><strong>kwargs</strong> – scorecardpipeline.processing.Combiner 的其他参数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>特征分箱统计表: pd.DataFrame</p></li>
<li><p>特征分箱信息: list，当参数 return_rules 为 True 时返回</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.processing.WOETransformer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.processing.</span></span><span class="sig-name descname"><span class="pre">WOETransformer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#WOETransformer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.WOETransformer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#WOETransformer.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>WOE转换器</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>exclude</strong> – 不需要转换 woe 的列</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.WOETransformer.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#WOETransformer.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>WOE转换器训练</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – Combiner 转换后的数据（label 为 False），需要包含目标变量</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>WOETransformer，训练完成的WOE转换器</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.processing.WOETransformer.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/processing.html#WOETransformer.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征WOE转换方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要进行WOE转换的数据集</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，WOE转换后的数据集</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="scorecardpipeline.processing.WOETransformer.rules">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rules</span></span></dt>
<dd><p>dict，特征 WOE 明细信息</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-scorecardpipeline.model">
<span id="scorecardpipeline-model"></span><h1>scorecardpipeline.model</h1>
<p>&#64;Time    : 2023/05/21 16:23
&#64;Author  : itlubber
&#64;Site    : itlubber.art</p>
<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.model.ITLubberLogisticRegression">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.model.</span></span><span class="sig-name descname"><span class="pre">ITLubberLogisticRegression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">penalty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calculate_stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dual</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intercept_scaling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lbfgs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warm_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l1_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">LogisticRegression</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ITLubberLogisticRegression.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">penalty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calculate_stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dual</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intercept_scaling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lbfgs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warm_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l1_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>ITLubberLogisticRegression，继承 sklearn.linear_model.LogisticRegression 方法，增加了统计性描述相关的内容输出，核心实现逻辑参考：<a class="reference external" href="https://github.com/ing-bank/skorecard/blob/main/skorecard/linear_model/linear_model.py#L11">https://github.com/ing-bank/skorecard/blob/main/skorecard/linear_model/linear_model.py#L11</a></p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>calculate_stats</strong> – 是否在训练模型时记录模型统计信息，默认 True，可以通过 summary 方法输出相关统计信息</p></li>
<li><p><strong>tol</strong> – 停止求解的标准，float类型，默认为1e-4</p></li>
<li><p><strong>C</strong> – 正则化系数λ的倒数，float类型，默认为1.0，必须是正浮点型数，值越小惩罚越大</p></li>
<li><p><strong>fit_intercept</strong> – 是否存在截距或偏差，bool类型，默认为True</p></li>
<li><p><strong>class_weight</strong> – 类型权重参数，默认 None，支持传入 dict or balanced，当设置 balanced 时，权重计算方式：n_samples / (n_classes * np.bincount(y))</p></li>
<li><p><strong>solver</strong> – 求解器设置，默认 lbfgs。对于小型数据集来说，选择 liblinear 更好；对于大型数据集来说，saga 或者 sag 会更快一些。对于多类问题我们只能使用 newton-cg、sag、saga、lbfgs。对于正则化来说，newton-cg、lbfgs 和 sag 只能用于L2正则化(因为这些优化算法都需要损失函数的一阶或者二阶连续导数， 因此无法用于没有连续导数的L1正则化)；而 liblinear，saga 则可处理L1正则化。newton-cg 是牛顿家族中的共轭梯度法，lbfgs 是一种拟牛顿法，sag 则是随机平均梯度下降法，saga 是随机优化算法，liblinear 是坐标轴下降法。</p></li>
<li><p><strong>penalty</strong> – 惩罚项，默认 l2，可选 l1、l2，solver 为 newton-cg、sag 和 lbfgs 时只支持L2，L1假设的是模型的参数满足拉普拉斯分布，L2假设的模型参数满足高斯分布</p></li>
<li><p><strong>intercept_scaling</strong> – 仅在 solver 选择 liblinear 并且 fit_intercept 设置为 True 的时候才有用</p></li>
<li><p><strong>dual</strong> – 对偶或原始方法，bool类型，默认为False，对偶方法只用在求解线性多核(liblinear)的L2惩罚项上。当样本数量&gt;样本特征的时候，dual通常设置为False</p></li>
<li><p><strong>random_state</strong> – 随机数种子，int类型，可选参数，默认为无，仅在 solver 为 sag 和 liblinear 时有用</p></li>
<li><p><strong>max_iter</strong> – 算法收敛最大迭代次数，int类型，默认 100。只在 solver 为 newton-cg、sag 和 lbfgs 时有用</p></li>
<li><p><strong>multi_class</strong> – 分类方法参数选择，默认 auto，可选 ovr、multinomial，如果分类问题是二分类问题，那么这两个参数的效果是一样的，主要体现在多分类问题上</p></li>
<li><p><strong>verbose</strong> – 日志级别，当 solver 为 liblinear、lbfgs 时设置为任意正数显示详细计算过程</p></li>
<li><p><strong>warm_start</strong> – 热启动参数，bool类型，表示是否使用上次的模型结果作为初始化，默认为 False</p></li>
<li><p><strong>n_jobs</strong> – 并行运算数量，默认为1，如果设置为-1，则表示将电脑的cpu全部用上</p></li>
<li><p><strong>l1_ratio</strong> – 弹性网络参数，其中0 &lt;= l1_ratio &lt;=1，仅当 penalty 为 elasticnet 时有效</p></li>
</ul>
</dd>
</dl>
<p><strong>参考样例</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">feature_pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s2">&quot;preprocessing_select&quot;</span><span class="p">,</span> <span class="n">FeatureSelection</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;scorecardpy&quot;</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s2">&quot;combiner&quot;</span><span class="p">,</span> <span class="n">Combiner</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">min_samples</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s2">&quot;transform&quot;</span><span class="p">,</span> <span class="n">WOETransformer</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s2">&quot;processing_select&quot;</span><span class="p">,</span> <span class="n">FeatureSelection</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;scorecardpy&quot;</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s2">&quot;stepwise&quot;</span><span class="p">,</span> <span class="n">StepwiseSelection</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># (&quot;logistic&quot;, LogisticClassifier(target=target)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="s2">&quot;logistic&quot;</span><span class="p">,</span> <span class="n">ITLubberLogisticRegression</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feature_pipeline</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">summary</span> <span class="o">=</span> <span class="n">feature_pipeline</span><span class="o">.</span><span class="n">named_steps</span><span class="p">[</span><span class="s1">&#39;logistic&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">summary</span>
<span class="go">                                                    Coef.  Std.Err       z  P&gt;|z|  [ 0.025  0.975 ]    VIF</span>
<span class="go">const                                               -0.8511   0.0991 -8.5920 0.0000  -1.0452  -0.6569 1.0600</span>
<span class="go">credit_history                                       0.8594   0.1912  4.4954 0.0000   0.4847   1.2341 1.0794</span>
<span class="go">age_in_years                                         0.6176   0.2936  2.1032 0.0354   0.0421   1.1932 1.0955</span>
<span class="go">savings_account_and_bonds                            0.8842   0.2408  3.6717 0.0002   0.4122   1.3563 1.0331</span>
<span class="go">credit_amount                                        0.7027   0.2530  2.7771 0.0055   0.2068   1.1987 1.1587</span>
<span class="go">status_of_existing_checking_account                  0.6891   0.1607  4.2870 0.0000   0.3740   1.0042 1.0842</span>
<span class="go">personal_status_and_sex                              0.8785   0.5051  1.7391 0.0820  -0.1116   1.8685 1.0113</span>
<span class="go">purpose                                              1.1370   0.2328  4.8844 0.0000   0.6807   1.5932 1.0282</span>
<span class="go">present_employment_since                             0.7746   0.3247  2.3855 0.0171   0.1382   1.4110 1.0891</span>
<span class="go">installment_rate_in_percentage_of_disposable_income  1.3785   0.3434  4.0144 0.0001   0.7055   2.0515 1.0300</span>
<span class="go">duration_in_month                                    0.9310   0.1986  4.6876 0.0000   0.5417   1.3202 1.1636</span>
<span class="go">other_installment_plans                              0.8521   0.3459  2.4637 0.0138   0.1742   1.5301 1.0117</span>
<span class="go">housing                                              0.8251   0.4346  1.8983 0.0577  -0.0268   1.6770 1.0205</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ITLubberLogisticRegression.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>逻辑回归训练方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – 训练数据集，需包含目标变量</p></li>
<li><p><strong>sample_weight</strong> – 样本权重，参考：<a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html#sklearn.linear_model.LogisticRegression.fit">https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html#sklearn.linear_model.LogisticRegression.fit</a></p></li>
<li><p><strong>kwargs</strong> – 其他逻辑回归模型训练参数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>ITLubberLogisticRegression，训练完成的逻辑回归模型</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ITLubberLogisticRegression.decision_function">
<span class="sig-name descname"><span class="pre">decision_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.decision_function"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>决策函数</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要预测的数据集，可以包含目标变量，会根据列名进行判断，如果包含会删除相关特征</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray，预测结果</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ITLubberLogisticRegression.corr">
<span class="sig-name descname"><span class="pre">corr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.corr"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>数据集的特征相关性图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要画特征相关性图的数据集</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>annot</strong> – 是否在图中显示相关性的数值，默认 True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ITLubberLogisticRegression.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.report"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>逻辑回归模型报告</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> – 需要评估的数据集</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，模型报告，包含准确率、F1等指标，参考：<a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.classification_report.html">https://scikit-learn.org/stable/modules/generated/sklearn.metrics.classification_report.html</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ITLubberLogisticRegression.summary">
<span class="sig-name descname"><span class="pre">summary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.summary"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame，逻辑回归模型统计信息</p>
</dd>
</dl>
<ul class="simple">
<li><p><cite>Coef.</cite>: 逻辑回归入模特征洗漱</p></li>
<li><p><cite>Std.Err</cite>: 标准误差</p></li>
<li><p><cite>z</cite>: Z检验统计量</p></li>
<li><p><cite>P&gt;|z|</cite>: P值</p></li>
<li><p><cite>[ 0.025</cite>: 置信区间下界</p></li>
<li><p><cite>0.975 ]</cite>: 置信区间上界</p></li>
<li><p><cite>VIF</cite>: 膨胀方差因子</p></li>
</ul>
<p><strong>参考样例</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">summary</span> <span class="o">=</span> <span class="n">logistic</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">summary</span>
<span class="go">                                                    Coef.  Std.Err       z  P&gt;|z|  [ 0.025  0.975 ]    VIF</span>
<span class="go">const                                               -0.8511   0.0991 -8.5920 0.0000  -1.0452  -0.6569 1.0600</span>
<span class="go">credit_history                                       0.8594   0.1912  4.4954 0.0000   0.4847   1.2341 1.0794</span>
<span class="go">age_in_years                                         0.6176   0.2936  2.1032 0.0354   0.0421   1.1932 1.0955</span>
<span class="go">savings_account_and_bonds                            0.8842   0.2408  3.6717 0.0002   0.4122   1.3563 1.0331</span>
<span class="go">credit_amount                                        0.7027   0.2530  2.7771 0.0055   0.2068   1.1987 1.1587</span>
<span class="go">status_of_existing_checking_account                  0.6891   0.1607  4.2870 0.0000   0.3740   1.0042 1.0842</span>
<span class="go">personal_status_and_sex                              0.8785   0.5051  1.7391 0.0820  -0.1116   1.8685 1.0113</span>
<span class="go">purpose                                              1.1370   0.2328  4.8844 0.0000   0.6807   1.5932 1.0282</span>
<span class="go">present_employment_since                             0.7746   0.3247  2.3855 0.0171   0.1382   1.4110 1.0891</span>
<span class="go">installment_rate_in_percentage_of_disposable_income  1.3785   0.3434  4.0144 0.0001   0.7055   2.0515 1.0300</span>
<span class="go">duration_in_month                                    0.9310   0.1986  4.6876 0.0000   0.5417   1.3202 1.1636</span>
<span class="go">other_installment_plans                              0.8521   0.3459  2.4637 0.0138   0.1742   1.5301 1.0117</span>
<span class="go">housing                                              0.8251   0.4346  1.8983 0.0577  -0.0268   1.6770 1.0205</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ITLubberLogisticRegression.summary2">
<span class="sig-name descname"><span class="pre">summary2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.summary2"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>summary 的基础上，支持传入数据字典，输出带有特征释义的统计信息表</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>feature_map</strong> – 数据字典，默认 {}</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，逻辑回归模型统计信息</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ITLubberLogisticRegression.convert_sparse_matrix">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convert_sparse_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.convert_sparse_matrix"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>稀疏特征优化</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ITLubberLogisticRegression.plot_weights">
<span class="sig-name descname"><span class="pre">plot_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#2639E9',</span> <span class="pre">'#F76E6C',</span> <span class="pre">'#FE7715']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ITLubberLogisticRegression.plot_weights"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>逻辑回归模型系数误差图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>figsize</strong> – 图片大小，默认 (15, 8)</p></li>
<li><p><strong>fontsize</strong> – 字体大小，默认 14</p></li>
<li><p><strong>color</strong> – 图片主题颜色，默认即可</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.model.</span></span><span class="sig-name descname"><span class="pre">ScoreCard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_odds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_score</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">750</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretrain_lr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pipeline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">ScoreCard</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_odds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_score</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">750</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretrain_lr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pipeline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>评分卡模型</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中标签名称，默认 target</p></li>
<li><p><strong>pdo</strong> – odds 每增加 rate 倍时减少 pdo 分，默认 60</p></li>
<li><p><strong>rate</strong> – 倍率</p></li>
<li><p><strong>base_odds</strong> – 基础 odds，通常根据业务经验设置的基础比率（违约概率/正常概率），估算方法：（1-样本坏客户占比）/坏客户占比，默认 35，即 35:1 =&gt; 0.972 =&gt; 坏样本率 2.8%</p></li>
<li><p><strong>base_score</strong> – 基础 odds 对应的分数，默认 750</p></li>
<li><p><strong>combiner</strong> – 分箱转换器，传入 pipeline 时可以为None</p></li>
<li><p><strong>transer</strong> – woe转换器，传入 pipeline 时可以为None</p></li>
<li><p><strong>pretrain_lr</strong> – 预训练好的逻辑回归模型，可以不传</p></li>
<li><p><strong>pipeline</strong> – 训练好的 pipeline，必须包含 Combiner 和 WOETransformer</p></li>
<li><p><strong>kwargs</strong> – 其他相关参数，具体参考 toad.ScoreCard</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>评分卡模型训练方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 转换为 WOE 后的训练数据，需包含目标变量</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>ScoreCard，训练好的评分卡模型</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>评分转换方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> – 需要预测模型评分的原始数据，非 woe 转换后的数据</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>预测的评分分数</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.score_clip">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">score_clip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.score_clip"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>传入评分分数，根据评分分布情况，返回评分等距分箱规则</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score</strong> – 评分数据</p></li>
<li><p><strong>clip</strong> – 区间间隔</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>list，评分分箱规则</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.scorecard_scale">
<span class="sig-name descname"><span class="pre">scorecard_scale</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.scorecard_scale"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>输出评分卡基准信息，包含 base_odds、base_score、rate、pdo、A、B</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame，评分卡基准信息</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.format_bins">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">format_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ellipsis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.format_bins"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>分箱转换为标签</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bins</strong> – 分箱</p></li>
<li><p><strong>index</strong> – 是否需要索引</p></li>
<li><p><strong>ellipsis</strong> – 字符显示最大长度</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray: 分箱标签</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.scorecard_points">
<span class="sig-name descname"><span class="pre">scorecard_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.scorecard_points"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>输出评分卡分箱信息及其对应的分数</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>feature_map</strong> – 数据字典，默认 {}，传入入模特征的数据字典，输出信息中将增加一列 变量含义</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，评分卡分箱信息</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.scorecard2pmml">
<span class="sig-name descname"><span class="pre">scorecard2pmml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmml</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'scorecard.pmml'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.scorecard2pmml"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>转换评分卡模型为本地 PMML 文件，使用本功能需要提前在环境中安装 jdk 1.8+ 以及 sklearn2pmml 库</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmml</strong> – 保存 PMML 模型文件的路径</p></li>
<li><p><strong>debug</strong> – bool，是否开启调试模式，默认 False，当设置为 True 时，会返回评分卡 pipeline，同时显示转换细节</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>sklearn.pipeline.Pipeline，当设置 debug 为 True 时，返回评分卡 pipeline</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.KS_bucket">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">KS_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'quantile'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.KS_bucket"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>用于评估评分卡排序性的方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> – 模型预测结果，传入评分卡预测的评分或LR预测的概率</p></li>
<li><p><strong>y_true</strong> – 样本好坏标签</p></li>
<li><p><strong>bucket</strong> – 分箱数量，默认 10</p></li>
<li><p><strong>method</strong> – 分箱方法，支持 chi、dt、quantile、step、kmeans，默认 quantile</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>评分卡分箱后的统计信息，推荐直接使用 feature_bin_stats 方法</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.KS">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">KS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.KS"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>计算 KS 指标</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> – 模型预测结果，传入评分卡预测的评分或LR预测的概率</p></li>
<li><p><strong>y_true</strong> – 样本好坏标签</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>float，KS 指标</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.AUC">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AUC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.AUC"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>计算 AUC 指标</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> – 模型预测结果，传入评分卡预测的评分或LR预测的概率</p></li>
<li><p><strong>y_true</strong> – 样本好坏标签</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>float，AUC 指标</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.perf_eva">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">perf_eva</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['ks',</span> <span class="pre">'roc']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(14,</span> <span class="pre">6)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.perf_eva"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>评分卡效果评估方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> – 模型预测结果，传入评分卡预测的评分或LR预测的概率</p></li>
<li><p><strong>y_true</strong> – 样本好坏标签</p></li>
<li><p><strong>title</strong> – 图像标题</p></li>
<li><p><strong>plot_type</strong> – 画图的类型，可选 ks、auc、lift、pr</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>figsize</strong> – 图像尺寸大小，传入一个tuple，默认 （14， 6）</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>dict，包含 ks、auc、gini、figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.ks_plot">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ks_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(16,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.ks_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>数值特征 KS曲线 &amp; ROC曲线</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score</strong> – 数值特征，通常为评分卡分数</p></li>
<li><p><strong>y_true</strong> – 标签值</p></li>
<li><p><strong>title</strong> – 图像标题</p></li>
<li><p><strong>fontsize</strong> – 字体大小，默认 14</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (16, 8)</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>kwargs</strong> – 其他参数，参考：scorecardpipeline.utils.hist_plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.PSI">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PSI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred_oot</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.PSI"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>计算两个数据集评分或预测结果的 PSI</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred_train</strong> – 基准数据集的数值特征，通常为评分卡分数</p></li>
<li><p><strong>y_pred_oot</strong> – 对照数据集的数值特征</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>float，PSI 指标值</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.perf_psi">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">perf_psi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred_oot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true_oot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['train',</span> <span class="pre">'test']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_tick_break</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_distr_dat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.perf_psi"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>scorecardpy 的 perf_psi 方法，基于两个数据集的画 PSI 图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred_train</strong> – 基准数据集的数值特征，通常为评分卡分数</p></li>
<li><p><strong>y_pred_oot</strong> – 对照数据集的数值特征</p></li>
<li><p><strong>y_true_train</strong> – 基准数据集的真实标签</p></li>
<li><p><strong>y_true_oot</strong> – 基准数据集的真实标签</p></li>
<li><p><strong>keys</strong> – 基准数据集和对照数据集的名称</p></li>
<li><p><strong>x_limits</strong> – x 轴的区间，默认为 None</p></li>
<li><p><strong>x_tick_break</strong> – 评分区间步长</p></li>
<li><p><strong>show_plot</strong> – 是否显示图像，默认 True</p></li>
<li><p><strong>return_distr_dat</strong> – 是否返回分布数据</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>dict，PSI 指标 &amp; 图片</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.score_hist">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">score_hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.score_hist"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>数值特征分布图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score</strong> – 数值特征，通常为评分卡分数</p></li>
<li><p><strong>y_true</strong> – 标签值</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (15, 10)</p></li>
<li><p><strong>bins</strong> – 分箱数量大小，默认 30</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>kwargs</strong> – scorecardpipeline.utils.hist_plot 方法的其他参数</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.class_steps">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">class_steps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pipeline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.class_steps"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据 query 查询 pipeline 中对应的 step</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pipeline</strong> – sklearn.pipeline.Pipeline，训练后的数据预处理 pipeline</p></li>
<li><p><strong>query</strong> – 需要查询的类，可以从 pipeline 中查找 WOETransformer 和 Combiner</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>list，对应的组件</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.model.ScoreCard.feature_bin_stats">
<span class="sig-name descname"><span class="pre">feature_bin_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'step'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_n_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'评分卡分数'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/model.html#ScoreCard.feature_bin_stats"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>评估评分卡排序性的方法，可以输出各分数区间的各项指标</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要查看的数据集</p></li>
<li><p><strong>feature</strong> – 数值性特征名称，通常为预测的概率或评分卡分数</p></li>
<li><p><strong>rules</strong> – 自定义的区间划分规则</p></li>
<li><p><strong>method</strong> – 分箱方法</p></li>
<li><p><strong>max_n_bins</strong> – 最大分箱数</p></li>
<li><p><strong>desc</strong> – 特征描述</p></li>
<li><p><strong>ks</strong> – 是否统计 KS 指标并输出相关统计信息</p></li>
<li><p><strong>kwargs</strong> – Combiner.feature_bin_stats 方法的其他参数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，评分各区间的统计信息</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-scorecardpipeline.auto_eda">
<span id="scorecardpipeline-auto-eda"></span><h1>scorecardpipeline.auto_eda</h1>
<p>&#64;Time    : 2023/12/29 11:17
&#64;Author  : itlubber
&#64;Site    : itlubber.art</p>
<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.auto_eda.auto_eda_sweetviz">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.auto_eda.</span></span><span class="sig-name descname"><span class="pre">auto_eda_sweetviz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'model_report/auto_eda.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairwise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/auto_eda.html#auto_eda_sweetviz"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>对数据量和特征个数较少的数据集进行自动 EDA 产出分析报告文档</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>all_data</strong> – 需要 EDA 的数据集</p></li>
<li><p><strong>target</strong> – 目标变量，仅支持整数型或布尔型的目标变量</p></li>
<li><p><strong>labels</strong> – 当传入 target 时为需要对比的数据集名称 [true, false]，当不传入 target 时为数据集名字</p></li>
<li><p><strong>save</strong> – 报告存储路径，后缀使用 .html</p></li>
<li><p><strong>pairwise</strong> – 是否需要显示特征之间的分布情况</p></li>
<li><p><strong>exclude</strong> – 需要排除的特征名称</p></li>
<li><p><strong>num_features</strong> – 需要强制转为数值型的特征名称</p></li>
<li><p><strong>cat_features</strong> – 需要强制转为类别型的特征名称</p></li>
<li><p><strong>text_features</strong> – 需要强制转为文本的特征名称</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-scorecardpipeline.auto_report">
<span id="scorecardpipeline-auto-report"></span><h1>scorecardpipeline.auto_report</h1>
<p>&#64;Time    : 2023/12/29 11:17
&#64;Author  : itlubber
&#64;Site    : itlubber.art</p>
<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.auto_report.auto_data_testing_report">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.auto_report.</span></span><span class="sig-name descname"><span class="pre">auto_data_testing_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_summary_comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'M'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excel_writer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'分析报告'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_row</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pictures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['bin',</span> <span class="pre">'ks',</span> <span class="pre">'hist']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/auto_report.html#auto_data_testing_report"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>自动数据测试报告，用于三方数据评估或自有评分效果评估</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>suffix</strong> – 用于避免未保存excel时，同名图片被覆盖的图片后缀名称</p></li>
<li><p><strong>corr</strong> – 是否需要评估数值类变量之间的相关性，默认为 False，设置为 True 后会输出变量相关性图和表</p></li>
<li><p><strong>pictures</strong> – 需要包含的图片，支持 [“ks”, “hist”, “bin”]</p></li>
<li><p><strong>data</strong> – 需要评估的数据集，需要包含目标变量</p></li>
<li><p><strong>features</strong> – 需要进行分析的特征名称，支持单个字符串传入或列表传入</p></li>
<li><p><strong>target</strong> – 目标变量名称</p></li>
<li><p><strong>date</strong> – 日期列，通常为借款人申请日期或放款日期，可选字段，传入的情况下，结合字段 freq 参数输出不同时间粒度下的好坏客户分布情况</p></li>
<li><p><strong>freq</strong> – 结合 date 日期使用，输出需要统计的粒度，默认 M，即按月统计</p></li>
<li><p><strong>data_summary_comment</strong> – 数据样本概况中需要填入的备注信息，例如 “去除了历史最大逾期天数[0, dpd]内的灰客户” 等</p></li>
<li><p><strong>excel_writer</strong> – 需要保存的excel文件名称或写入器</p></li>
<li><p><strong>sheet</strong> – 需要保存的 sheet 名称，可传入已有的 worksheet 或 文字信息</p></li>
<li><p><strong>start_col</strong> – 开始列</p></li>
<li><p><strong>start_row</strong> – 开始行</p></li>
<li><p><strong>writer_params</strong> – excel写入器初始化参数，仅在 excel_writer 为字符串时有效</p></li>
<li><p><strong>bin_params</strong> – 统计分箱的参数，支持 <cite>feature_bin_stats</cite> 方法的参数</p></li>
<li><p><strong>feature_map</strong> – 特征字典，增加文档可读性使用，默认 {}</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-scorecardpipeline.utils">
<span id="scorecardpipeline-utils"></span><h1>scorecardpipeline.utils</h1>
<p>&#64;Time    : 2023/05/21 16:23
&#64;Author  : itlubber
&#64;Site    : itlubber.art</p>
<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.seed_everything">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">seed_everything</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freeze_torch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#seed_everything"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>固定当前环境随机种子，以保证后续实验可重复</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seed</strong> – 随机种子</p></li>
<li><p><strong>freeze_torch</strong> – 是否固定 pytorch 的随机种子</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.init_setting">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">init_setting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">font_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freeze_torch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#init_setting"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>初始化环境配置，去除警告信息、修改 pandas 默认配置、固定随机种子、日志记录</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seed</strong> – 随机种子，默认为 None</p></li>
<li><p><strong>freeze_torch</strong> – 是否固定 pytorch 环境</p></li>
<li><p><strong>font_path</strong> – 画图时图像使用的字体，支持系统字体名称、本地字体文件路径，默认为 scorecardppeline 提供的中文字体</p></li>
<li><p><strong>logger</strong> – 是否需要初始化日志器，默认为 False ，当参数为 True 时返回 logger</p></li>
<li><p><strong>kwargs</strong> – 日志初始化传入的相关参数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>当 logger 为 True 时返回 logging.Logger</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.load_pickle">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">load_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#load_pickle"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>导入 pickle 文件</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> – pickle 文件路径</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pickle 文件的内容</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.save_pickle">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">save_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#save_pickle"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>保持数据至 pickle 文件</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – 需要保存的数据</p></li>
<li><p><strong>file</strong> – 文件路径</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.germancredit">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">germancredit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#germancredit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>加载德国信贷数据集 German Credit Data</p>
<p>数据来源：<a class="reference external" href="https://archive.ics.uci.edu/dataset/144/statlog+german+credit+data">https://archive.ics.uci.edu/dataset/144/statlog+german+credit+data</a></p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.round_float">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">round_float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#round_float"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>调整数值分箱的上下界小数点精度，如未超出精度保持原样输出</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num</strong> – 分箱的上界或者下界</p></li>
<li><p><strong>decimal</strong> – 小数点保留的精度</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>精度调整后的数值</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.feature_bins">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">feature_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#feature_bins"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据 Combiner 的规则生成分箱区间，并生成区间对应的索引</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bins</strong> – Combiner 的规则</p></li>
<li><p><strong>decimal</strong> – 区间上下界需要保留的精度，默认小数点后4位</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>dict ，key 为区间的索引，value 为区间</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.extract_feature_bin">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">extract_feature_bin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bin_var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#extract_feature_bin"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据单个区间提取的分箱的上下界</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bin_var</strong> – 区间字符串</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>list or tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.inverse_feature_bins">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">inverse_feature_bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'分箱'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#inverse_feature_bins"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据变量分箱表得到 Combiner 的规则</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature_table</strong> – 变量分箱表</p></li>
<li><p><strong>bin_col</strong> – 变量分箱表中分箱对应的列名，默认 分箱</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.bin_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">bin_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(10,</span> <span class="pre">6)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#2639E9',</span> <span class="pre">'#F76E6C',</span> <span class="pre">'#FE7715']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.935</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'color':</span> <span class="pre">'#000000'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'分箱图'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#bin_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>简单策略挖掘：特征分箱图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feature_table</strong> – 特征分箱的统计信息表，由 feature_bin_stats 运行得到</p></li>
<li><p><strong>desc</strong> – 特征中文含义或者其他相关信息</p></li>
<li><p><strong>figsize</strong> – 图像尺寸大小，传入一个tuple，默认 （10， 6）</p></li>
<li><p><strong>colors</strong> – 图片主题颜色，默认即可</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>anchor</strong> – 图例在图中的位置，通常 0.95 左右，根据图片标题与图例之间的空隙自行调整即可</p></li>
<li><p><strong>max_len</strong> – 分箱显示的最大长度，防止分类变量分箱过多文本过长导致图像显示区域很小，默认最长 35 个字符</p></li>
<li><p><strong>fontdict</strong> – 柱状图上的文字内容格式设置，参考 <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.text.html">https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.text.html</a></p></li>
<li><p><strong>hatch</strong> – 柱状图是否显示斜杠，默认显示</p></li>
<li><p><strong>ending</strong> – 分箱图标题显示的后缀，标题格式为: f’{desc}{ending}’</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.corr_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">corr_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figure_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(16,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linewidths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.2f'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linecolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'white'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#corr_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征相关图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 原始数据</p></li>
<li><p><strong>figure_size</strong> – 图片大小，默认 (16, 8)</p></li>
<li><p><strong>fontsize</strong> – 字体大小，默认 16</p></li>
<li><p><strong>mask</strong> – 是否只显示下三角部分内容，默认 False</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>annot</strong> – 是否在图中显示相关性的数值，默认 True</p></li>
<li><p><strong>max_len</strong> – 特征显示的最大长度，防止特征名称过长导致图像区域非常小，默认 35，可以传 None 表示不限制</p></li>
<li><p><strong>fmt</strong> – 数值显示格式，当 annot 为 True 时该参数生效，默认显示两位小数点</p></li>
<li><p><strong>step</strong> – 色阶的步数，以 0 为中心，默认 2（以0为中心对称） * 5（划分五个色阶） + 1（0一档单独显示）= 11</p></li>
<li><p><strong>linewidths</strong> – 相关图之间的线条宽度，默认 0.1 ，如果设置为 None 则不现实线条</p></li>
<li><p><strong>linecolor</strong> – 线的颜色，当 linewidths 大于 0 时生效，默认为 white</p></li>
<li><p><strong>kwargs</strong> – sns.heatmap 函数其他参数，参考：<a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.heatmap.html">https://seaborn.pydata.org/generated/seaborn.heatmap.html</a></p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.ks_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">ks_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(16,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#2639E9',</span> <span class="pre">'#F76E6C',</span> <span class="pre">'#FE7715']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.945</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#ks_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>数值特征 KS曲线 &amp; ROC曲线</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score</strong> – 数值特征，通常为评分卡分数</p></li>
<li><p><strong>target</strong> – 标签值</p></li>
<li><p><strong>title</strong> – 图像标题</p></li>
<li><p><strong>fontsize</strong> – 字体大小，默认 14</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (16, 8)</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>colors</strong> – 图片主题颜色，默认即可</p></li>
<li><p><strong>anchor</strong> – 图例显示的位置，默认 0.945，根据实际显示情况进行调整即可，0.95 附近小范围调整</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.hist_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">hist_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['好样本',</span> <span class="pre">'坏样本']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kde</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#hist_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>数值特征分布图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score</strong> – 数值特征，通常为评分卡分数</p></li>
<li><p><strong>y_true</strong> – 标签值</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (15, 10)</p></li>
<li><p><strong>bins</strong> – 分箱数量大小，默认 30</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>labels</strong> – 字典或列表，图例显示的分类名称，默认 [“好样本”, “坏样本”]，按照目标变量顺序对应即可，从0开始</p></li>
<li><p><strong>anchor</strong> – 图例显示的位置，默认 1.1，根据实际显示情况进行调整即可，1.1 附近小范围调整</p></li>
<li><p><strong>fontsize</strong> – 字体大小，默认 14</p></li>
<li><p><strong>kwargs</strong> – sns.histplot 函数其他参数，参考：<a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.histplot.html">https://seaborn.pydata.org/generated/seaborn.histplot.html</a></p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.psi_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">psi_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expected</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['预期',</span> <span class="pre">'实际']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#2639E9',</span> <span class="pre">'#F76E6C',</span> <span class="pre">'#FE7715']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.94</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#psi_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征 PSI 图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expected</strong> – 期望分布情况，传入需要验证的特征分箱表</p></li>
<li><p><strong>actual</strong> – 实际分布情况，传入需要参照的特征分箱表</p></li>
<li><p><strong>labels</strong> – 期望分布和实际分布的名称，默认 [“预期”, “实际”]</p></li>
<li><p><strong>desc</strong> – 标题前缀显示的名称，默认为空，推荐传入特征名称或评分卡名字</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>colors</strong> – 图片主题颜色，默认即可</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (15, 8)</p></li>
<li><p><strong>anchor</strong> – 图例显示的位置，默认 0.94，根据实际显示情况进行调整即可，0.94 附近小范围调整</p></li>
<li><p><strong>width</strong> – 预期分布与实际分布柱状图之间的间隔，默认 0.35</p></li>
<li><p><strong>result</strong> – 是否返回 PSI 统计表，默认 False</p></li>
<li><p><strong>plot</strong> – 是否画 PSI图，默认 True</p></li>
<li><p><strong>max_len</strong> – 特征显示的最大长度，防止特征名称过长导致图像区域非常小，默认 None 表示不限制</p></li>
<li><p><strong>hatch</strong> – 是否显示柱状图上的斜线，默认为 True</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>当 result 为 True 时，返回 pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.csi_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">csi_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expected</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['预期',</span> <span class="pre">'实际']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#2639E9',</span> <span class="pre">'#F76E6C',</span> <span class="pre">'#FE7715']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(15,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.94</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#csi_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>特征 CSI 图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expected</strong> – 期望分布情况，传入需要验证的特征分箱表</p></li>
<li><p><strong>actual</strong> – 实际分布情况，传入需要参照的特征分箱表</p></li>
<li><p><strong>score_bins</strong> – 逻辑回归模型评分表</p></li>
<li><p><strong>labels</strong> – 期望分布和实际分布的名称，默认 [“预期”, “实际”]</p></li>
<li><p><strong>desc</strong> – 标题前缀显示的名称，默认为空，推荐传入特征名称或评分卡名字</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>colors</strong> – 图片主题颜色，默认即可</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (15, 8)</p></li>
<li><p><strong>anchor</strong> – 图例显示的位置，默认 0.94，根据实际显示情况进行调整即可，0.94 附近小范围调整</p></li>
<li><p><strong>width</strong> – 预期分布与实际分布柱状图之间的间隔，默认 0.35</p></li>
<li><p><strong>result</strong> – 是否返回 CSI 统计表，默认 False</p></li>
<li><p><strong>plot</strong> – 是否画 CSI图，默认 True</p></li>
<li><p><strong>max_len</strong> – 特征显示的最大长度，防止特征名称过长导致图像区域非常小，默认 None 表示不限制</p></li>
<li><p><strong>hatch</strong> – 是否显示柱状图上的斜线，默认为 True</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>当 result 为 True 时，返回 pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.dataframe_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">dataframe_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#2639E9'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#dae3f3',</span> <span class="pre">'w']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#dataframe_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>将 dataframe 转换为图片，推荐行和列都不多的数据集使用该方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – 需要画图的 dataframe 数据</p></li>
<li><p><strong>row_height</strong> – 行高，默认 0.4</p></li>
<li><p><strong>font_size</strong> – 字体大小，默认 14</p></li>
<li><p><strong>header_color</strong> – 标题颜色，默认 #2639E9</p></li>
<li><p><strong>row_colors</strong> – 行颜色，默认 [‘#dae3f3’, ‘w’]，交替使用两种颜色</p></li>
<li><p><strong>edge_color</strong> – 表格边框颜色，默认白色</p></li>
<li><p><strong>bbox</strong> – 边的显示情况，[左，右，上，下]，即仅显示上下两条边框</p></li>
<li><p><strong>header_columns</strong> – 标题行数，默认仅有一个标题行，即 0</p></li>
<li><p><strong>ax</strong> – 如果需要在某张画布的子图中显示，那么传入对应的 ax 即可</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>kwargs</strong> – plt.table 相关的参数，参考：<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.table.html">https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.table.html</a></p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.distribution_plot">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">distribution_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'date'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(10,</span> <span class="pre">6)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#2639E9',</span> <span class="pre">'#F76E6C',</span> <span class="pre">'#FE7715']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'M'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.94</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hatch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#distribution_plot"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>样本时间分布图</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 数据集</p></li>
<li><p><strong>date</strong> – 日期列名称，如果格式非日期，会尝试自动转为日期格式，默认 date，替换为数据中对应的日期列（如申请时间、授信时间、放款时间等）</p></li>
<li><p><strong>target</strong> – 数据集中标签列的名称，默认 target</p></li>
<li><p><strong>save</strong> – 图片保存的地址，如果传入路径中有文件夹不存在，会新建相关文件夹，默认 None</p></li>
<li><p><strong>figsize</strong> – 图像大小，默认 (10, 6)</p></li>
<li><p><strong>colors</strong> – 图片主题颜色，默认即可</p></li>
<li><p><strong>freq</strong> – 汇总统计的日期格式，按年、季度、月、周、日等统计，参考：<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#dateoffset-objects">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#dateoffset-objects</a></p></li>
<li><p><strong>anchor</strong> – 图例显示的位置，默认 0.94，根据实际显示情况进行调整即可，0.94 附近小范围调整</p></li>
<li><p><strong>result</strong> – 是否返回分布表，默认 False</p></li>
<li><p><strong>hatch</strong> – 是否显示柱状图上的斜线，默认为 True</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.utils.sample_lift_transformer">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.utils.</span></span><span class="sig-name descname"><span class="pre">sample_lift_transformer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rule</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/utils.html#sample_lift_transformer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>采取好坏样本 sample_rate:1 的抽样方式时，计算抽样样本和原始样本上的 lift 指标</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – 原始数据，需全部为数值型变量</p></li>
<li><p><strong>rule</strong> – Rule</p></li>
<li><p><strong>target</strong> – 目标变量名称</p></li>
<li><p><strong>sample_rate</strong> – 好样本采样比例</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>lift_sam: float, 抽样样本上拒绝人群的lift
lift_ori: float, 原始样本上拒绝人群的lift</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-scorecardpipeline.excel_writer">
<span id="scorecardpipeline-excel-writer"></span><h1>scorecardpipeline.excel_writer</h1>
<p>&#64;Time    : 2023/05/14 16:23
&#64;Author  : itlubber
&#64;Site    : itlubber.art</p>
<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.excel_writer.</span></span><span class="sig-name descname"><span class="pre">ExcelWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style_excel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style_sheet_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'初始化'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'replace'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'楷体'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2639E9'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.85</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mac'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style_excel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style_sheet_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'初始化'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'replace'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'楷体'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2639E9'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.85</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mac'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>excel 写入方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>style_excel</strong> – 样式模版文件，默认安装包路径下的 template.xlsx ，如果路径调整需要进行相应的调整</p></li>
<li><p><strong>style_sheet_name</strong> – 模版文件内初始样式sheet名称，默认即可</p></li>
<li><p><strong>mode</strong> – 写入模式，默认 replace，可选 replace、append，当选择 append 模式时会将已存在的excel中的内容复制到新的文件中</p></li>
<li><p><strong>fontsize</strong> – 插入excel文件中内容的字体大小，默认 10</p></li>
<li><p><strong>font</strong> – 插入excel文件中内容的字体，默认 楷体</p></li>
<li><p><strong>theme_color</strong> – 主题色，默认 2639E9，注意不包含 #</p></li>
<li><p><strong>system</strong> – excel报告适配的系统，默认 mac，可选 windows、linux，设置为 windows 时会重新适配 picture 的大小</p></li>
<li><p><strong>opacity</strong> – 写入dataframe时使用颜色填充主题色的透明度设置，默认 0.85</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.add_conditional_formatting">
<span class="sig-name descname"><span class="pre">add_conditional_formatting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_space</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_space</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.add_conditional_formatting"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>设置条件格式</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 当前选择设置条件格式的sheet</p></li>
<li><p><strong>start_space</strong> – 开始单元格位置</p></li>
<li><p><strong>end_space</strong> – 结束单元格位置</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.set_column_width">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_column_width</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.set_column_width"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>调整excel列宽</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 当前选择调整列宽的sheet</p></li>
<li><p><strong>column</strong> – 列，可以直接输入 index 或者 字母</p></li>
<li><p><strong>width</strong> – 设置列的宽度</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.set_number_format">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_number_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.set_number_format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>设置数值显示格式</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 当前选择调整数值显示格式的sheet</p></li>
<li><p><strong>space</strong> – 单元格范围</p></li>
<li><p><strong>_format</strong> – 显示格式，参考 openpyxl</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.get_sheet_by_name">
<span class="sig-name descname"><span class="pre">get_sheet_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.get_sheet_by_name"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>获取sheet名称为name的工作簿，如果不存在，则从初始模版文件中拷贝一个名称为name的sheet</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – 需要获取的工作簿名称</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.move_sheet">
<span class="sig-name descname"><span class="pre">move_sheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.move_sheet"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>移动 sheet 位置</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 需要移动的sheet，支持输入字符串和Worksheet</p></li>
<li><p><strong>offset</strong> – 需要移动的相对位置，默认 0，在传入 index 时参数不生效</p></li>
<li><p><strong>index</strong> – 需要移动到的位置索引，超出移动到最后</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.insert_value2sheet">
<span class="sig-name descname"><span class="pre">insert_value2sheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert_space</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'content'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.insert_value2sheet"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>向sheet中的某个单元格插入某种样式的内容</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 需要插入内容的sheet</p></li>
<li><p><strong>insert_space</strong> – 内容插入的单元格位置，可以是 “B2” 或者 (2, 2) 任意一种形式</p></li>
<li><p><strong>value</strong> – 需要插入的内容</p></li>
<li><p><strong>style</strong> – 渲染的样式，参考 init_style 中初始设置的样式</p></li>
<li><p><strong>end_space</strong> – 如果需要合并单元格，传入需要截止的单元格位置信息，可以是 “B2” 或者 (2, 2) 任意一种形式</p></li>
<li><p><strong>auto_width</strong> – 是否开启自动调整列宽</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回插入元素最后一列之后、最后一行之后的位置</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.insert_pic2sheet">
<span class="sig-name descname"><span class="pre">insert_pic2sheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert_space</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(600,</span> <span class="pre">250)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.insert_pic2sheet"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>向excel中插入图片内容</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 需要插入内容的sheet</p></li>
<li><p><strong>fig</strong> – 需要插入的图片路径</p></li>
<li><p><strong>insert_space</strong> – 插入图片的起始单元格</p></li>
<li><p><strong>figsize</strong> – 图片大小设置</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回插入元素最后一列之后、最后一行之后的位置</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.insert_rows">
<span class="sig-name descname"><span class="pre">insert_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.insert_rows"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>向excel中插入一行数据，insert_df2sheet 依赖本方法</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 需要插入内容的sheet</p></li>
<li><p><strong>row</strong> – 数据内容</p></li>
<li><p><strong>row_index</strong> – 插入数据的行索引，用来判断使用哪种边框样式</p></li>
<li><p><strong>col_index</strong> – 插入数据的列索引，用来判断使用哪种边框样式</p></li>
<li><p><strong>merge_rows</strong> – 需要合并单元的行索引</p></li>
<li><p><strong>style</strong> – 插入数据的excel风格</p></li>
<li><p><strong>auto_width</strong> – 是否自动调整列宽，自动调整列宽会导致该列样式模版发生变化，非内容列默认填充的白色失效</p></li>
<li><p><strong>style_only</strong> – 是否使用填充样式</p></li>
<li><p><strong>multi_levels</strong> – 是否多层索引或多层级列</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.insert_df2sheet">
<span class="sig-name descname"><span class="pre">insert_df2sheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert_space</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.insert_df2sheet"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>向excel文件中插入指定样式的dataframe数据</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 需要插入内容的sheet</p></li>
<li><p><strong>data</strong> – 需要插入的dataframe</p></li>
<li><p><strong>insert_space</strong> – 插入内容的起始单元格位置</p></li>
<li><p><strong>merge_column</strong> – 需要分组显示的列，index或者列名，需要提前排好序，从 0.1.33 开始 ExcleWriter 不会自动处理顺序</p></li>
<li><p><strong>header</strong> – 是否存储dataframe的header，暂不支持多级表头，从 0.1.30 开始支持多层表头和多层索引</p></li>
<li><p><strong>index</strong> – 是否存储dataframe的index</p></li>
<li><p><strong>merge_index</strong> – 当存储dataframe的index时，index中同一层级连续相同值是否合并，默认 True，即合并</p></li>
<li><p><strong>auto_width</strong> – 是否自动调整列宽，自动调整列宽会导致该列样式模版发生变化，非内容列默认填充的白色失效</p></li>
<li><p><strong>fill</strong> – 是否使用颜色填充而非边框，当 fill 为 True 时，merge_column 失效</p></li>
<li><p><strong>merge</strong> – 是否合并单元格，配合 merge_column 一起使用，当前版本仅在 merge_column 只有一列时有效</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回插入元素最后一列之后、最后一行之后的位置</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.merge_cells">
<span class="sig-name descname"><span class="pre">merge_cells</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worksheet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.merge_cells"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>合并同一列单元格并保证样式相应合并</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>worksheet</strong> – 需要合并单元格的sheet</p></li>
<li><p><strong>start</strong> – 合并单元格开始的位置</p></li>
<li><p><strong>end</strong> – 合并单元格结束的位置</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.check_contain_chinese">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">check_contain_chinese</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">check_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.check_contain_chinese"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>检查字符串中是否包含中文</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>check_str</strong> – 需要检查的字符串</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回每个字符是否是中文 list&lt;bool&gt;，英文字符个数，中文字符个数</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.astype_insertvalue">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">astype_insertvalue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_point</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.astype_insertvalue"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>格式化需要存储excel的内容，如果是浮点型，按照设置的精度进行保存，如果是类别型或其他特殊类型，转字符串存储，如果非以上两种，直接原始值存储</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – 需要插入 excel 的内容</p></li>
<li><p><strong>decimal_point</strong> – 如果是浮点型，需要保留的精度，默认小数点后4位数</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>格式化后存入excel的内容</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.calc_continuous_cnt">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_continuous_cnt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.calc_continuous_cnt"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据传入的 list ，计算 list 中某个 index 开始，连续出现该元素的个数</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> – 需要检索的 list</p></li>
<li><p><strong>index</strong> – 元素索引</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>元素值，索引值，连续出现的个数</p>
</dd>
</dl>
<p><strong>参考样例</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_continuous_cnt</span> <span class="o">=</span> <span class="n">ExcelWriter</span><span class="o">.</span><span class="n">calc_continuous_cnt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_continuous_cnt</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">(&#39;A&#39;, 0, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_continuous_cnt</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">(&#39;B&#39;, 4, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_continuous_cnt</span><span class="p">(</span><span class="n">list_</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="go">(&#39;C&#39;, 6, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.itlubber_border">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">itlubber_border</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">border</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">white</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.itlubber_border"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>itlubber 的边框样式生成器</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>border</strong> – 边框样式，如果输入长度为 3，则生成 [左，右，下]，如果长度为4，则生成 [左，右，下，上]</p></li>
<li><p><strong>color</strong> – 边框颜色</p></li>
<li><p><strong>white</strong> – 是否显示白色边框</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>Border</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.get_cell_space">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_cell_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">space</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.get_cell_space"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据传入的不同格式的位置，转换为另一种形式的excel单元格定位</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>space</strong> – 传入的excel单元格定位，支持两种格式，B1 或 (2, 2)</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回单元格定位，tuple / str</p>
</dd>
</dl>
<p><strong>参考样例</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_cell_space</span> <span class="o">=</span> <span class="n">ExcelWriter</span><span class="o">.</span><span class="n">get_cell_space</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_cell_space</span><span class="p">(</span><span class="s2">&quot;B3&quot;</span><span class="p">)</span>
<span class="go">(2, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_cell_space</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">&#39;B2&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.calculate_rgba_color">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_rgba_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hex_color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opacity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.calculate_rgba_color"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>根据某个颜色计算某个透明度对应的颜色</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hex_color</strong> – hex格式的颜色值</p></li>
<li><p><strong>opacity</strong> – 透明度，[0, 1] 之间的数值</p></li>
<li><p><strong>prefix</strong> – 返回颜色的前缀</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>对应某个透明度的颜色</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.init_style">
<span class="sig-name descname"><span class="pre">init_style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">font</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_color</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.init_style"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>初始化单元格样式</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>font</strong> – 字体名称</p></li>
<li><p><strong>fontsize</strong> – 字体大小</p></li>
<li><p><strong>theme_color</strong> – 主题颜色</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.ExcelWriter.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#ExcelWriter.save"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>保存excel文件</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – 需要保存 excel 文件的路径</p></li>
<li><p><strong>close</strong> – 是否需要释放 writer</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.excel_writer.dataframe2excel">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.excel_writer.</span></span><span class="sig-name descname"><span class="pre">dataframe2excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excel_writer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2639E9'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#,##0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_row</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'replace'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(600,</span> <span class="pre">350)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/excel_writer.html#dataframe2excel"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>向excel文件中插入指定样式的dataframe数据</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 需要保存的dataframe数据，index默认不保存，如果需要保存先 .reset_index().rename(columns={“index”: “索引名称”}) 再保存，有部分索引 reset_index 之后是 0 而非 index，根据实际情况进行修改</p></li>
<li><p><strong>excel_writer</strong> – 需要保存到的 excel 文件路径或者 ExcelWriter</p></li>
<li><p><strong>sheet_name</strong> – 需要插入内容的sheet，如果是 Worksheet，则直接向 Worksheet 插入数据</p></li>
<li><p><strong>title</strong> – 是否在dataframe之前的位置插入一个标题</p></li>
<li><p><strong>figures</strong> – 需要数据表与标题之间插入的图片，支持一次性传入多张图片的路径，会根据传入顺序依次插入</p></li>
<li><p><strong>figsize</strong> – 插入图像的大小，为了统一排版，目前仅支持设置一个图片大小，默认: (600, 350) (长度, 高度)</p></li>
<li><p><strong>header</strong> – 是否存储dataframe的header，暂不支持多级表头</p></li>
<li><p><strong>theme_color</strong> – 主题色</p></li>
<li><p><strong>fill</strong> – 是否使用单元个颜色填充样式还是使用边框样式</p></li>
<li><p><strong>percent_cols</strong> – 需要显示为百分数的列，仅修改显示格式，不更改数值</p></li>
<li><p><strong>condition_cols</strong> – 需要显示条件格式的列（无边框渐变数据条）</p></li>
<li><p><strong>color_cols</strong> – 需要显示为条件格式颜色填充的列（单元格填充渐变色）</p></li>
<li><p><strong>custom_cols</strong> – 需要显示自定义格式的列，与 custom_format 参数搭配使用</p></li>
<li><p><strong>custom_format</strong> – 显示的自定义格式，与 custom_cols 参数搭配使用，默认 #,##0 ，即显示为有分隔符的整数</p></li>
<li><p><strong>start_col</strong> – 在excel中的开始列数，默认 2，即第二列开始</p></li>
<li><p><strong>start_row</strong> – 在excel中的开始行数，默认 2，即第二行开始，如果 title 有值的话，会从 start_row + 2 行开始插入dataframe数据</p></li>
<li><p><strong>mode</strong> – excel写入的模式，可选 append 和 replace ，默认 replace ，选择 append 时会在已有的excel文件中增加内容，不覆盖原有内容</p></li>
<li><p><strong>writer_params</strong> – 透传至 ExcelWriter 内的参数</p></li>
<li><p><strong>**kwargs</strong> – <p>其他参数，透传至 insert_df2sheet 方法，例如 传入 auto_width=True 会根据内容自动调整列宽</p>
</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回插入元素最后一列之后、最后一行之后的位置</p>
</dd>
</dl>
<p><strong>参考样例</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">writer</span> <span class="o">=</span> <span class="n">ExcelWriter</span><span class="p">(</span><span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">worksheet</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">get_sheet_by_name</span><span class="p">(</span><span class="s2">&quot;模型报告&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_value2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;header&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_value2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="s2">&quot;B4&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;header&quot;</span><span class="p">,</span> <span class="n">end_space</span><span class="o">=</span><span class="s2">&quot;D4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_value2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;当前模型主要为评分卡模型&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;header_middle&quot;</span><span class="p">,</span> <span class="n">auto_width</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 单层索引保存样例</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_sample</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="o">*</span> <span class="mi">40</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">))],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;B</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)),</span> <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)),</span> <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)),</span> <span class="n">merge_column</span><span class="o">=</span><span class="s2">&quot;target&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)),</span> <span class="n">merge_column</span><span class="o">=</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)),</span> <span class="n">merge_column</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;target&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">writer</span><span class="o">.</span><span class="n">insert_df2sheet</span><span class="p">(</span><span class="n">worksheet</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="p">(</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">column_index_from_string</span><span class="p">(</span><span class="s2">&quot;B&quot;</span><span class="p">)),</span> <span class="n">merge_column</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">percent_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">],</span> <span class="n">condition_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B9&quot;</span><span class="p">],</span> <span class="n">color_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">percent_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">],</span> <span class="n">condition_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B9&quot;</span><span class="p">],</span> <span class="n">color_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">percent_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B2&quot;</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">],</span> <span class="n">condition_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B3&quot;</span><span class="p">,</span> <span class="s2">&quot;B9&quot;</span><span class="p">],</span> <span class="n">color_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B4&quot;</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">figures</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;../examples/model_report/auto_report_corr_plot.png&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 多层索引保存样例</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi_sample</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">)),</span> <span class="n">columns</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([[</span><span class="s1">&#39;模拟考&#39;</span><span class="p">,</span> <span class="s1">&#39;正式考&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;数学&#39;</span><span class="p">,</span> <span class="s1">&#39;语文&#39;</span><span class="p">,</span> <span class="s1">&#39;英语&#39;</span><span class="p">,</span> <span class="s1">&#39;物理&#39;</span><span class="p">,</span> <span class="s1">&#39;化学&#39;</span><span class="p">,</span> <span class="s1">&#39;生物&#39;</span><span class="p">]]),</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_product</span><span class="p">([[</span><span class="s1">&#39;期中&#39;</span><span class="p">,</span> <span class="s1">&#39;期末&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;雷军&#39;</span><span class="p">,</span> <span class="s1">&#39;李斌&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;测试一&#39;</span><span class="p">,</span> <span class="s1">&#39;测试二&#39;</span><span class="p">]]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">multi_sample</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;考试类型&quot;</span><span class="p">,</span> <span class="s2">&quot;姓名&quot;</span><span class="p">,</span> <span class="s2">&quot;测试&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">multi_sample</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">multi_sample</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">multi_sample</span><span class="p">,</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">multi_sample</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="n">multi_sample</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span><span class="p">,</span> <span class="n">col_level</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">merge_column</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;考试类型&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;姓名&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">multi_sample</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="n">multi_sample</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span><span class="p">,</span> <span class="n">col_level</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">merge_column</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;考试类型&#39;</span><span class="p">)],</span> <span class="n">merge</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end_row</span><span class="p">,</span> <span class="n">end_col</span> <span class="o">=</span> <span class="n">dataframe2excel</span><span class="p">(</span><span class="n">multi_sample</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="n">multi_sample</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span><span class="p">,</span> <span class="n">col_level</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">writer</span><span class="p">,</span> <span class="n">theme_color</span><span class="o">=</span><span class="s1">&#39;3f1dba&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;模型报告&quot;</span><span class="p">,</span> <span class="n">start_row</span><span class="o">=</span><span class="n">end_row</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;测试样例&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">merge_column</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;考试类型&#39;</span><span class="p">)],</span> <span class="n">merge</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">writer</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;测试样例.xlsx&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-scorecardpipeline.rule">
<span id="scorecardpipeline-rule"></span><h1>scorecardpipeline.rule</h1>
<p>&#64;Time    : 2024/2/26 12:00
&#64;Author  : itlubber
&#64;Site    : itlubber.art</p>
<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.rule.json2expr">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.rule.</span></span><span class="sig-name descname"><span class="pre">json2expr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule.html#json2expr"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.rule.Rule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.rule.</span></span><span class="sig-name descname"><span class="pre">Rule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule.html#Rule"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule.Rule.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule.html#Rule.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>规则集</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>expr</strong> – 类似 DataFrame 的 query 方法传参方式即可，目前仅支持数值型变量规则</p>
</dd>
</dl>
<p><strong>参考样例</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scorecardpipeline</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="s2">&quot;creditability&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">germancredit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="n">target</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">target</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s2">&quot;good&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;bad&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="s2">&quot;number&quot;</span><span class="p">)</span> <span class="c1"># 暂不支持字符型规则</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rule1</span> <span class="o">=</span> <span class="n">Rule</span><span class="p">(</span><span class="s2">&quot;duration_in_month &lt; 10&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rule2</span> <span class="o">=</span> <span class="n">Rule</span><span class="p">(</span><span class="s2">&quot;credit_amount &lt; 500&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rule1</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rule2</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">rule1</span> <span class="o">|</span> <span class="n">rule2</span><span class="p">)</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">rule1</span> <span class="o">&amp;</span> <span class="n">rule2</span><span class="p">)</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule.Rule.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule.html#Rule.predict"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule.Rule.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overdue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'overdue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_grey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior_rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/scorecardpipeline/rule.html#Rule.report"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>规则效果报告表格输出</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datasets</strong> – 数据集，需要包含 目标变量 或 逾期天数，当不包含目标变量时，会通过逾期天数计算目标变量，同时需要传入逾期定义的DPD天数</p></li>
<li><p><strong>target</strong> – 目标变量名称，默认 target</p></li>
<li><p><strong>desc</strong> – 规则相关的描述，会出现在返回的表格当中</p></li>
<li><p><strong>return_cols</strong> – 指定返回的字段列表，默认不传</p></li>
<li><p><strong>prior_rules</strong> – 先验规则，可以传入先验规则先筛选数据后再评估规则效果</p></li>
<li><p><strong>overdue</strong> – 逾期天数字读名称</p></li>
<li><p><strong>dpd</strong> – 逾期定义方式，逾期天数 &gt; DPD 为 1，其他为 0，仅 overdue 字段起作用时有用</p></li>
<li><p><strong>del_grey</strong> – 是否删除逾期天数 (0, dpd] 的数据，仅 overdue 字段起作用时有用</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame，规则效果评估表</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule.Rule.result">
<span class="sig-name descname"><span class="pre">result</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule.html#Rule.result"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-scorecardpipeline.rule_extraction">
<span id="scorecardpipeline-rule-extraction"></span><h1>scorecardpipeline.rule_extraction</h1>
<p>&#64;Time    : 2024/2/29 13:29
&#64;Author  : itlubber
&#64;Site    : itlubber.art</p>
<dl class="py class">
<dt class="sig sig-object py" id="scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scorecardpipeline.rule_extraction.</span></span><span class="sig-name descname"><span class="pre">DecisionTreeRuleExtractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['positive',</span> <span class="pre">'negative']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2639E9'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'target'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['positive',</span> <span class="pre">'negative']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theme_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2639E9'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>决策树自动规则挖掘工具包</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – 数据集中好坏样本标签列名称，默认 target</p></li>
<li><p><strong>labels</strong> – 好坏样本标签名称，传入一个长度为2的列表，第0个元素为好样本标签，第1个元素为坏样本标签，默认 [“positive”, “negative”]</p></li>
<li><p><strong>feature_map</strong> – 变量名称及其含义，在后续输出报告和策略信息时增加可读性，默认 {}</p></li>
<li><p><strong>nan</strong> – 在决策树策略挖掘时，默认空值填充的值，默认 -1</p></li>
<li><p><strong>max_iter</strong> – 最多支持在数据集上训练多少颗树模型，每次生成一棵树后，会剔除特征重要性最高的特征后，再生成树，默认 128</p></li>
<li><p><strong>writer</strong> – 在之前程序运行时生成的 ExcelWriter，可以支持传入一个已有的writer，后续所有内容将保存至该workbook中，默认 None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.encode_cat_features">
<span class="sig-name descname"><span class="pre">encode_cat_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.encode_cat_features"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.get_dt_rules">
<span class="sig-name descname"><span class="pre">get_dt_rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_bad_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_count</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.get_dt_rules"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.select_dt_rules">
<span class="sig-name descname"><span class="pre">select_dt_rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decision_tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.select_dt_rules"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.query_dt_rules">
<span class="sig-name descname"><span class="pre">query_dt_rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_rules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.query_dt_rules"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.insert_dt_rules">
<span class="sig-name descname"><span class="pre">insert_dt_rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parsed_rules</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(500,</span> <span class="pre">350)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.insert_dt_rules"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_score</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.fit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>组合策略挖掘</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – 包含标签的数据集</p></li>
<li><p><strong>max_depth</strong> – 决策树最大深度，即最多组合的特征个数，默认 2</p></li>
<li><p><strong>lift</strong> – 组合策略最小的lift值，默认 0.，即全部组合策略</p></li>
<li><p><strong>max_samples</strong> – 每条组合策略的最大样本占比，默认 1.0，即全部组合策略</p></li>
<li><p><strong>min_score</strong> – 决策树拟合时最小的auc，如果不满足则停止后续生成决策树</p></li>
<li><p><strong>verbose</strong> – 是否调试模式，仅在 jupyter 环境有效</p></li>
<li><p><strong>kwargs</strong> – DecisionTreeClassifier 参数，参考 <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html">https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html</a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.transform"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">valid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'组合策略汇总'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/rule_extraction.html#DecisionTreeRuleExtractor.report"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>组合策略插入excel文档</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>valid</strong> – 验证数据集</p></li>
<li><p><strong>sheet</strong> – 保存组合策略的表格sheet名称</p></li>
<li><p><strong>save</strong> – 保存报告的文件路径</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>返回每个数据集组合策略命中情况</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-scorecardpipeline.logger">
<span id="scorecardpipeline-logger"></span><h1>scorecardpipeline.logger</h1>
<dl class="py function">
<dt class="sig sig-object py" id="scorecardpipeline.logger.init_logger">
<span class="sig-prename descclassname"><span class="pre">scorecardpipeline.logger.</span></span><span class="sig-name descname"><span class="pre">init_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'[</span> <span class="pre">%(asctime)s</span> <span class="pre">][</span> <span class="pre">%(levelname)s</span> <span class="pre">][</span> <span class="pre">%(filename)s:%(funcName)s:%(lineno)d</span> <span class="pre">]</span> <span class="pre">%(message)s'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datefmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scorecardpipeline/logger.html#init_logger"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a></dt>
<dd><p>初始化日志</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – 日志文件存储地址，如果不传不记录日志到文件中，默认为 None</p></li>
<li><p><strong>stream</strong> – 是否显示在终端中，默认 True</p></li>
<li><p><strong>fmt</strong> – 日志格式，参考：<a class="reference external" href="https://docs.python.org/3/library/logging.html#formatter-objects">https://docs.python.org/3/library/logging.html#formatter-objects</a></p></li>
<li><p><strong>datefmt</strong> – 日期格式</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>logging.Logger</p>
</dd>
</dl>
</dd></dl>

</section>

</article>
        
          <aside class="nftt-toc">
            <div class="mt-3 mb-1 my-lg-0 ps-xl-3 text-muted">
              <button class="btn btn-link link-dark p-md-0 mb-2 mb-md-0 text-decoration-none nftt-toc-toggle d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#tocContents" aria-expanded="false" aria-controls="tocContents"
              >On this page <i class="ms-2 bi bi-chevron-expand"></i></button>
              <div class="title d-none d-md-block">
                <i class="bi bi-file-earmark-text"></i>&nbsp;&nbsp;<span class="small">On this page</span>
              </div>
              <hr class="d-none d-md-block my-2">
              <div class="collapse nftt-toc-collapse" id="tocContents">
                <nav id="TableOfContents">
                  <ul>
<li><a class="reference internal" href="#">scorecardpipeline</a><ul>
<li><a class="reference internal" href="#scorecardpipeline.FeatureSelection"><code class="docutils literal notranslate"><span class="pre">FeatureSelection</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.FeatureSelection.__init__"><code class="docutils literal notranslate"><span class="pre">FeatureSelection.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.FeatureSelection.fit"><code class="docutils literal notranslate"><span class="pre">FeatureSelection.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.FeatureSelection.transform"><code class="docutils literal notranslate"><span class="pre">FeatureSelection.transform()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.FeatureImportanceSelector"><code class="docutils literal notranslate"><span class="pre">FeatureImportanceSelector</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.FeatureImportanceSelector.__init__"><code class="docutils literal notranslate"><span class="pre">FeatureImportanceSelector.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.FeatureImportanceSelector.fit"><code class="docutils literal notranslate"><span class="pre">FeatureImportanceSelector.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.FeatureImportanceSelector.transform"><code class="docutils literal notranslate"><span class="pre">FeatureImportanceSelector.transform()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.FeatureImportanceSelector.catboost_selector"><code class="docutils literal notranslate"><span class="pre">FeatureImportanceSelector.catboost_selector()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.StepwiseSelection"><code class="docutils literal notranslate"><span class="pre">StepwiseSelection</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.StepwiseSelection.__init__"><code class="docutils literal notranslate"><span class="pre">StepwiseSelection.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.StepwiseSelection.fit"><code class="docutils literal notranslate"><span class="pre">StepwiseSelection.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.StepwiseSelection.transform"><code class="docutils literal notranslate"><span class="pre">StepwiseSelection.transform()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner"><code class="docutils literal notranslate"><span class="pre">Combiner</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.__init__"><code class="docutils literal notranslate"><span class="pre">Combiner.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.update"><code class="docutils literal notranslate"><span class="pre">Combiner.update()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.optbinning_bins"><code class="docutils literal notranslate"><span class="pre">Combiner.optbinning_bins()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.fit"><code class="docutils literal notranslate"><span class="pre">Combiner.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.check_rules"><code class="docutils literal notranslate"><span class="pre">Combiner.check_rules()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.transform"><code class="docutils literal notranslate"><span class="pre">Combiner.transform()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.export"><code class="docutils literal notranslate"><span class="pre">Combiner.export()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.load"><code class="docutils literal notranslate"><span class="pre">Combiner.load()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.feature_bin_stats"><code class="docutils literal notranslate"><span class="pre">Combiner.feature_bin_stats()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.bin_plot"><code class="docutils literal notranslate"><span class="pre">Combiner.bin_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.proportion_plot"><code class="docutils literal notranslate"><span class="pre">Combiner.proportion_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.corr_plot"><code class="docutils literal notranslate"><span class="pre">Combiner.corr_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.badrate_plot"><code class="docutils literal notranslate"><span class="pre">Combiner.badrate_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Combiner.rules"><code class="docutils literal notranslate"><span class="pre">Combiner.rules</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.WOETransformer"><code class="docutils literal notranslate"><span class="pre">WOETransformer</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.WOETransformer.__init__"><code class="docutils literal notranslate"><span class="pre">WOETransformer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.WOETransformer.fit"><code class="docutils literal notranslate"><span class="pre">WOETransformer.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.WOETransformer.transform"><code class="docutils literal notranslate"><span class="pre">WOETransformer.transform()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.WOETransformer.rules"><code class="docutils literal notranslate"><span class="pre">WOETransformer.rules</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.ITLubberLogisticRegression"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.ITLubberLogisticRegression.__init__"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ITLubberLogisticRegression.fit"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ITLubberLogisticRegression.decision_function"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.decision_function()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ITLubberLogisticRegression.corr"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.corr()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ITLubberLogisticRegression.report"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.report()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ITLubberLogisticRegression.summary"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.summary()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ITLubberLogisticRegression.summary2"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.summary2()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ITLubberLogisticRegression.convert_sparse_matrix"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.convert_sparse_matrix()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ITLubberLogisticRegression.plot_weights"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.plot_weights()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard"><code class="docutils literal notranslate"><span class="pre">ScoreCard</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.__init__"><code class="docutils literal notranslate"><span class="pre">ScoreCard.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.fit"><code class="docutils literal notranslate"><span class="pre">ScoreCard.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.transform"><code class="docutils literal notranslate"><span class="pre">ScoreCard.transform()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.score_clip"><code class="docutils literal notranslate"><span class="pre">ScoreCard.score_clip()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.scorecard_scale"><code class="docutils literal notranslate"><span class="pre">ScoreCard.scorecard_scale()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.format_bins"><code class="docutils literal notranslate"><span class="pre">ScoreCard.format_bins()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.scorecard_points"><code class="docutils literal notranslate"><span class="pre">ScoreCard.scorecard_points()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.scorecard2pmml"><code class="docutils literal notranslate"><span class="pre">ScoreCard.scorecard2pmml()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.KS_bucket"><code class="docutils literal notranslate"><span class="pre">ScoreCard.KS_bucket()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.KS"><code class="docutils literal notranslate"><span class="pre">ScoreCard.KS()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.AUC"><code class="docutils literal notranslate"><span class="pre">ScoreCard.AUC()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.perf_eva"><code class="docutils literal notranslate"><span class="pre">ScoreCard.perf_eva()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.ks_plot"><code class="docutils literal notranslate"><span class="pre">ScoreCard.ks_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.PSI"><code class="docutils literal notranslate"><span class="pre">ScoreCard.PSI()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.perf_psi"><code class="docutils literal notranslate"><span class="pre">ScoreCard.perf_psi()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.score_hist"><code class="docutils literal notranslate"><span class="pre">ScoreCard.score_hist()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.class_steps"><code class="docutils literal notranslate"><span class="pre">ScoreCard.class_steps()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ScoreCard.feature_bin_stats"><code class="docutils literal notranslate"><span class="pre">ScoreCard.feature_bin_stats()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.Rule"><code class="docutils literal notranslate"><span class="pre">Rule</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.Rule.__init__"><code class="docutils literal notranslate"><span class="pre">Rule.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Rule.predict"><code class="docutils literal notranslate"><span class="pre">Rule.predict()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Rule.report"><code class="docutils literal notranslate"><span class="pre">Rule.report()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.Rule.result"><code class="docutils literal notranslate"><span class="pre">Rule.result()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.DecisionTreeRuleExtractor"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.DecisionTreeRuleExtractor.__init__"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.DecisionTreeRuleExtractor.encode_cat_features"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.encode_cat_features()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.DecisionTreeRuleExtractor.get_dt_rules"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.get_dt_rules()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.DecisionTreeRuleExtractor.select_dt_rules"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.select_dt_rules()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.DecisionTreeRuleExtractor.query_dt_rules"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.query_dt_rules()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.DecisionTreeRuleExtractor.insert_dt_rules"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.insert_dt_rules()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.DecisionTreeRuleExtractor.fit"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.DecisionTreeRuleExtractor.transform"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.transform()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.DecisionTreeRuleExtractor.report"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.report()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.KS"><code class="docutils literal notranslate"><span class="pre">KS()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.AUC"><code class="docutils literal notranslate"><span class="pre">AUC()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.PSI"><code class="docutils literal notranslate"><span class="pre">PSI()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.F1"><code class="docutils literal notranslate"><span class="pre">F1()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.init_logger"><code class="docutils literal notranslate"><span class="pre">init_logger()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.init_setting"><code class="docutils literal notranslate"><span class="pre">init_setting()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.load_pickle"><code class="docutils literal notranslate"><span class="pre">load_pickle()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.save_pickle"><code class="docutils literal notranslate"><span class="pre">save_pickle()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.germancredit"><code class="docutils literal notranslate"><span class="pre">germancredit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ColorScaleRule"><code class="docutils literal notranslate"><span class="pre">ColorScaleRule()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.get_column_letter"><code class="docutils literal notranslate"><span class="pre">get_column_letter()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.column_index_from_string"><code class="docutils literal notranslate"><span class="pre">column_index_from_string()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.seed_everything"><code class="docutils literal notranslate"><span class="pre">seed_everything()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.feature_bins"><code class="docutils literal notranslate"><span class="pre">feature_bins()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.feature_bin_stats"><code class="docutils literal notranslate"><span class="pre">feature_bin_stats()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.extract_feature_bin"><code class="docutils literal notranslate"><span class="pre">extract_feature_bin()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.inverse_feature_bins"><code class="docutils literal notranslate"><span class="pre">inverse_feature_bins()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.sample_lift_transformer"><code class="docutils literal notranslate"><span class="pre">sample_lift_transformer()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.bin_plot"><code class="docutils literal notranslate"><span class="pre">bin_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.corr_plot"><code class="docutils literal notranslate"><span class="pre">corr_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ks_plot"><code class="docutils literal notranslate"><span class="pre">ks_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.hist_plot"><code class="docutils literal notranslate"><span class="pre">hist_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.psi_plot"><code class="docutils literal notranslate"><span class="pre">psi_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.csi_plot"><code class="docutils literal notranslate"><span class="pre">csi_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.dataframe_plot"><code class="docutils literal notranslate"><span class="pre">dataframe_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.distribution_plot"><code class="docutils literal notranslate"><span class="pre">distribution_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter"><code class="docutils literal notranslate"><span class="pre">ExcelWriter</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.__init__"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.add_conditional_formatting"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.add_conditional_formatting()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.set_column_width"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.set_column_width()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.set_number_format"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.set_number_format()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.get_sheet_by_name"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.get_sheet_by_name()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.move_sheet"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.move_sheet()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.insert_value2sheet"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.insert_value2sheet()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.insert_pic2sheet"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.insert_pic2sheet()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.insert_rows"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.insert_rows()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.insert_df2sheet"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.insert_df2sheet()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.merge_cells"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.merge_cells()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.check_contain_chinese"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.check_contain_chinese()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.astype_insertvalue"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.astype_insertvalue()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.calc_continuous_cnt"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.calc_continuous_cnt()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.itlubber_border"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.itlubber_border()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.get_cell_space"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.get_cell_space()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.calculate_rgba_color"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.calculate_rgba_color()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.init_style"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.init_style()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.ExcelWriter.save"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.save()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.dataframe2excel"><code class="docutils literal notranslate"><span class="pre">dataframe2excel()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.auto_eda_sweetviz"><code class="docutils literal notranslate"><span class="pre">auto_eda_sweetviz()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.auto_data_testing_report"><code class="docutils literal notranslate"><span class="pre">auto_data_testing_report()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scorecardpipeline.processing">scorecardpipeline.processing</a><ul>
<li><a class="reference internal" href="#scorecardpipeline.processing.drop_identical"><code class="docutils literal notranslate"><span class="pre">drop_identical()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.drop_corr"><code class="docutils literal notranslate"><span class="pre">drop_corr()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.select"><code class="docutils literal notranslate"><span class="pre">select()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.FeatureSelection"><code class="docutils literal notranslate"><span class="pre">FeatureSelection</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.processing.FeatureSelection.__init__"><code class="docutils literal notranslate"><span class="pre">FeatureSelection.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.FeatureSelection.fit"><code class="docutils literal notranslate"><span class="pre">FeatureSelection.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.FeatureSelection.transform"><code class="docutils literal notranslate"><span class="pre">FeatureSelection.transform()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.processing.StepwiseSelection"><code class="docutils literal notranslate"><span class="pre">StepwiseSelection</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.processing.StepwiseSelection.__init__"><code class="docutils literal notranslate"><span class="pre">StepwiseSelection.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.StepwiseSelection.fit"><code class="docutils literal notranslate"><span class="pre">StepwiseSelection.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.StepwiseSelection.transform"><code class="docutils literal notranslate"><span class="pre">StepwiseSelection.transform()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.processing.FeatureImportanceSelector"><code class="docutils literal notranslate"><span class="pre">FeatureImportanceSelector</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.processing.FeatureImportanceSelector.__init__"><code class="docutils literal notranslate"><span class="pre">FeatureImportanceSelector.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.FeatureImportanceSelector.fit"><code class="docutils literal notranslate"><span class="pre">FeatureImportanceSelector.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.FeatureImportanceSelector.transform"><code class="docutils literal notranslate"><span class="pre">FeatureImportanceSelector.transform()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.FeatureImportanceSelector.catboost_selector"><code class="docutils literal notranslate"><span class="pre">FeatureImportanceSelector.catboost_selector()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner"><code class="docutils literal notranslate"><span class="pre">Combiner</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.__init__"><code class="docutils literal notranslate"><span class="pre">Combiner.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.update"><code class="docutils literal notranslate"><span class="pre">Combiner.update()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.optbinning_bins"><code class="docutils literal notranslate"><span class="pre">Combiner.optbinning_bins()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.fit"><code class="docutils literal notranslate"><span class="pre">Combiner.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.check_rules"><code class="docutils literal notranslate"><span class="pre">Combiner.check_rules()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.transform"><code class="docutils literal notranslate"><span class="pre">Combiner.transform()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.export"><code class="docutils literal notranslate"><span class="pre">Combiner.export()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.load"><code class="docutils literal notranslate"><span class="pre">Combiner.load()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.feature_bin_stats"><code class="docutils literal notranslate"><span class="pre">Combiner.feature_bin_stats()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.bin_plot"><code class="docutils literal notranslate"><span class="pre">Combiner.bin_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.proportion_plot"><code class="docutils literal notranslate"><span class="pre">Combiner.proportion_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.corr_plot"><code class="docutils literal notranslate"><span class="pre">Combiner.corr_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.badrate_plot"><code class="docutils literal notranslate"><span class="pre">Combiner.badrate_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.Combiner.rules"><code class="docutils literal notranslate"><span class="pre">Combiner.rules</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.processing.feature_bin_stats"><code class="docutils literal notranslate"><span class="pre">feature_bin_stats()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.WOETransformer"><code class="docutils literal notranslate"><span class="pre">WOETransformer</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.processing.WOETransformer.__init__"><code class="docutils literal notranslate"><span class="pre">WOETransformer.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.WOETransformer.fit"><code class="docutils literal notranslate"><span class="pre">WOETransformer.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.WOETransformer.transform"><code class="docutils literal notranslate"><span class="pre">WOETransformer.transform()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.processing.WOETransformer.rules"><code class="docutils literal notranslate"><span class="pre">WOETransformer.rules</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-scorecardpipeline.model">scorecardpipeline.model</a><ul>
<li><a class="reference internal" href="#scorecardpipeline.model.ITLubberLogisticRegression"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.model.ITLubberLogisticRegression.__init__"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ITLubberLogisticRegression.fit"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ITLubberLogisticRegression.decision_function"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.decision_function()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ITLubberLogisticRegression.corr"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.corr()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ITLubberLogisticRegression.report"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.report()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ITLubberLogisticRegression.summary"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.summary()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ITLubberLogisticRegression.summary2"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.summary2()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ITLubberLogisticRegression.convert_sparse_matrix"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.convert_sparse_matrix()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ITLubberLogisticRegression.plot_weights"><code class="docutils literal notranslate"><span class="pre">ITLubberLogisticRegression.plot_weights()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard"><code class="docutils literal notranslate"><span class="pre">ScoreCard</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.__init__"><code class="docutils literal notranslate"><span class="pre">ScoreCard.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.fit"><code class="docutils literal notranslate"><span class="pre">ScoreCard.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.transform"><code class="docutils literal notranslate"><span class="pre">ScoreCard.transform()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.score_clip"><code class="docutils literal notranslate"><span class="pre">ScoreCard.score_clip()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.scorecard_scale"><code class="docutils literal notranslate"><span class="pre">ScoreCard.scorecard_scale()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.format_bins"><code class="docutils literal notranslate"><span class="pre">ScoreCard.format_bins()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.scorecard_points"><code class="docutils literal notranslate"><span class="pre">ScoreCard.scorecard_points()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.scorecard2pmml"><code class="docutils literal notranslate"><span class="pre">ScoreCard.scorecard2pmml()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.KS_bucket"><code class="docutils literal notranslate"><span class="pre">ScoreCard.KS_bucket()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.KS"><code class="docutils literal notranslate"><span class="pre">ScoreCard.KS()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.AUC"><code class="docutils literal notranslate"><span class="pre">ScoreCard.AUC()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.perf_eva"><code class="docutils literal notranslate"><span class="pre">ScoreCard.perf_eva()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.ks_plot"><code class="docutils literal notranslate"><span class="pre">ScoreCard.ks_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.PSI"><code class="docutils literal notranslate"><span class="pre">ScoreCard.PSI()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.perf_psi"><code class="docutils literal notranslate"><span class="pre">ScoreCard.perf_psi()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.score_hist"><code class="docutils literal notranslate"><span class="pre">ScoreCard.score_hist()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.class_steps"><code class="docutils literal notranslate"><span class="pre">ScoreCard.class_steps()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.model.ScoreCard.feature_bin_stats"><code class="docutils literal notranslate"><span class="pre">ScoreCard.feature_bin_stats()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-scorecardpipeline.auto_eda">scorecardpipeline.auto_eda</a><ul>
<li><a class="reference internal" href="#scorecardpipeline.auto_eda.auto_eda_sweetviz"><code class="docutils literal notranslate"><span class="pre">auto_eda_sweetviz()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scorecardpipeline.auto_report">scorecardpipeline.auto_report</a><ul>
<li><a class="reference internal" href="#scorecardpipeline.auto_report.auto_data_testing_report"><code class="docutils literal notranslate"><span class="pre">auto_data_testing_report()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scorecardpipeline.utils">scorecardpipeline.utils</a><ul>
<li><a class="reference internal" href="#scorecardpipeline.utils.seed_everything"><code class="docutils literal notranslate"><span class="pre">seed_everything()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.init_setting"><code class="docutils literal notranslate"><span class="pre">init_setting()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.load_pickle"><code class="docutils literal notranslate"><span class="pre">load_pickle()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.save_pickle"><code class="docutils literal notranslate"><span class="pre">save_pickle()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.germancredit"><code class="docutils literal notranslate"><span class="pre">germancredit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.round_float"><code class="docutils literal notranslate"><span class="pre">round_float()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.feature_bins"><code class="docutils literal notranslate"><span class="pre">feature_bins()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.extract_feature_bin"><code class="docutils literal notranslate"><span class="pre">extract_feature_bin()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.inverse_feature_bins"><code class="docutils literal notranslate"><span class="pre">inverse_feature_bins()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.bin_plot"><code class="docutils literal notranslate"><span class="pre">bin_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.corr_plot"><code class="docutils literal notranslate"><span class="pre">corr_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.ks_plot"><code class="docutils literal notranslate"><span class="pre">ks_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.hist_plot"><code class="docutils literal notranslate"><span class="pre">hist_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.psi_plot"><code class="docutils literal notranslate"><span class="pre">psi_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.csi_plot"><code class="docutils literal notranslate"><span class="pre">csi_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.dataframe_plot"><code class="docutils literal notranslate"><span class="pre">dataframe_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.distribution_plot"><code class="docutils literal notranslate"><span class="pre">distribution_plot()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.utils.sample_lift_transformer"><code class="docutils literal notranslate"><span class="pre">sample_lift_transformer()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scorecardpipeline.excel_writer">scorecardpipeline.excel_writer</a><ul>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter"><code class="docutils literal notranslate"><span class="pre">ExcelWriter</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.__init__"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.add_conditional_formatting"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.add_conditional_formatting()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.set_column_width"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.set_column_width()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.set_number_format"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.set_number_format()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.get_sheet_by_name"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.get_sheet_by_name()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.move_sheet"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.move_sheet()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.insert_value2sheet"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.insert_value2sheet()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.insert_pic2sheet"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.insert_pic2sheet()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.insert_rows"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.insert_rows()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.insert_df2sheet"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.insert_df2sheet()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.merge_cells"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.merge_cells()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.check_contain_chinese"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.check_contain_chinese()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.astype_insertvalue"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.astype_insertvalue()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.calc_continuous_cnt"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.calc_continuous_cnt()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.itlubber_border"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.itlubber_border()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.get_cell_space"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.get_cell_space()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.calculate_rgba_color"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.calculate_rgba_color()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.init_style"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.init_style()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.ExcelWriter.save"><code class="docutils literal notranslate"><span class="pre">ExcelWriter.save()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scorecardpipeline.excel_writer.dataframe2excel"><code class="docutils literal notranslate"><span class="pre">dataframe2excel()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scorecardpipeline.rule">scorecardpipeline.rule</a><ul>
<li><a class="reference internal" href="#scorecardpipeline.rule.json2expr"><code class="docutils literal notranslate"><span class="pre">json2expr()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.rule.Rule"><code class="docutils literal notranslate"><span class="pre">Rule</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.rule.Rule.__init__"><code class="docutils literal notranslate"><span class="pre">Rule.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.rule.Rule.predict"><code class="docutils literal notranslate"><span class="pre">Rule.predict()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.rule.Rule.report"><code class="docutils literal notranslate"><span class="pre">Rule.report()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.rule.Rule.result"><code class="docutils literal notranslate"><span class="pre">Rule.result()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-scorecardpipeline.rule_extraction">scorecardpipeline.rule_extraction</a><ul>
<li><a class="reference internal" href="#scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor</span></code></a><ul>
<li><a class="reference internal" href="#scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.__init__"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.__init__()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.encode_cat_features"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.encode_cat_features()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.get_dt_rules"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.get_dt_rules()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.select_dt_rules"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.select_dt_rules()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.query_dt_rules"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.query_dt_rules()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.insert_dt_rules"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.insert_dt_rules()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.fit"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.fit()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.transform"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.transform()</span></code></a></li>
<li><a class="reference internal" href="#scorecardpipeline.rule_extraction.DecisionTreeRuleExtractor.report"><code class="docutils literal notranslate"><span class="pre">DecisionTreeRuleExtractor.report()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-scorecardpipeline.logger">scorecardpipeline.logger</a><ul>
<li><a class="reference internal" href="#scorecardpipeline.logger.init_logger"><code class="docutils literal notranslate"><span class="pre">init_logger()</span></code></a></li>
</ul>
</li>
</ul>

                </nav>
              </div>
            </div>
          </aside>
        
      </main>
    </div>

    <footer class="nftt-footer">
      <nav id="paginator" class="py-4" aria-label="Documentation navigation">
    <div class="container">
      <ul class="pagination justify-content-between mb-0"><li class="page-item">
            <a href="quickstart.html" class="d-flex px-5 align-items-end" rel="prev" aria-label="Previous page: 简介">
              <span class="prev-page"><i class="bi bi-caret-left"></i></span>
              <div class="d-flex flex-column">
                <span class="text-small text-start text-muted">Previous</span>
                <span class="underline">简介</span>
              </div>
            </a>
          </li>
        
      </ul>
    </div>
  </nav>

      <div class="py-5 px-4 px-md-3">
  <div class="container">
    
    <div class="row">
      <ul class="list-unstyled list-separator col-lg-12 pb-2 text-center">
        
          
          
          <li class="d-inline">
            <a href="https://itlubber.art" class="list-item">itlubber</a>
          </li>
        
          
          
          <li class="d-inline">
            <a href="https://github.com/itlubber/scorecardpipeline" class="list-item">github</a>
          </li>
        
          
          
          <li class="d-inline">
            <a href="https://github.com/itlubber/scorecardpipeline/blob/main/examples/scorecard_samples.ipynb" class="list-item">examples</a>
          </li>
        
      </ul>
    </div>
    

    <div class="row">
      <div class="col-lg-12 text-center">
        <a class="brand-text d-inline-flex align-items-center mb-2 text-decoration-none" href="/" aria-label="Nefertiti-for-Sphinx">
          <span class="fs-6 fw-bold">scorecardpipeline</span>
        </a>
        
          <ul class="list-unstyled small text-muted">
            <li>2023, itlubber</li>
          </ul>
        
        
      </div>
    </div>
  </div>
</div>
    </footer>
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/translations.js"></script>
    <script src="_static/design-tabs.js"></script>

    <script type="text/javascript" src="_static/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="_static/sphinx-nefertiti.min.js"></script>
    
  </body>
</html>